(()=>{var e,t={8610:(e,t,a)=>{"use strict";var n=a(5191),o=1024,r=768,c=window.matchMedia("(min-width: ".concat(o,"px)")),i=window.matchMedia("(min-width: ".concat(r,"px)"));function l(e){var t=document.querySelector(e);if(t){if(t.querySelectorAll(".swiper-slide").length>1)return!0;var a=document.querySelector("[data-slider-buttons]");if(a)return a.classList.add("hidden"),!1}}var s=function(){document.querySelectorAll("[data-drop]").forEach((function(e){var t=e.querySelector("[data-drop-btn]"),a={isOpen:!1},n="BTN_CLICK",o="CLICK_OUTSIDE";window.addEventListener("click",(function(r){!function(t){switch(t){case n:e.classList.toggle("drop--open"),a.isOpen=!a.isOpen;break;case o:e.classList.remove("drop--open"),a.isOpen=!1}}(function(e){var a=e.closest("[data-drop-btn]");return!!a&&a===t}(r.target)?n:o)}))}))},d=a(7386),u=(a(4563),a(8917),a(5638));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v={closeExisting:!0,touch:!1,hideScrollbar:!1,autoFocus:!1,baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-stage"></div></div>',animationEffect:"zoom",animationDuration:400,afterShow:function(e,t){u(t.src).closest(".fancybox-container").addClass("open")}};u((function(){u("[data-fancy-button]").on("click",(function(e){var t=p({},v);e.preventDefault();var a=u(this).data("fancy-button"),n=u('[data-fancy-modal="'.concat(a,'"]'));switch(a){case"size":case"contacts":case"callback":case"popular":case"type":case"premium":case"order":case"production":case"partners":t.animationEffect="right";break;case"cities":if(c.matches)return;t.animationEffect="right";break;case"menu":t.animationEffect="top",t.baseClass="menu-layout";break;case"search":t.animationEffect="top";break;case"collections":t.animationEffect="left"}u.fancybox.defaults=p(p({},u.fancybox.defaults),t),u.fancybox.open(n)}))}));a(3419);var h=a(5638);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=function(e){var t=document.querySelectorAll("[".concat(e,"-panel]"));t.length&&t.forEach((function(t){t.addEventListener("click",(function(a){function n(a){if(a.target.closest("[data-main-tabs]")){var n=a.target.closest("[".concat(e,"]"));if(n){var o=t.querySelector(".active[".concat(e,"]")),r=t.getAttribute("".concat(e,"-panel")),c=n.getAttribute("".concat(e)),i=document.querySelectorAll("[".concat(e,"-content-container='").concat(r,"']"));o&&document.querySelectorAll("[".concat(e,"-panel='").concat(r,"']")).forEach((function(t){t.querySelector(".active[".concat(e,"]")).classList.remove("active")})),document.querySelectorAll("[".concat(e,"-panel='").concat(r,"']")).forEach((function(t){t.querySelector("[".concat(e,'="').concat(c,'"]')).classList.add("active")})),i.forEach((function(t){if(t.closest(".options-contents__item")){if(t.closest(".options-contents__item.active")){if(o){var a=o.getAttribute("".concat(e));t.querySelector("[".concat(e,"-content='").concat(a,"']")).classList.remove("active")}t.querySelector("[".concat(e,"-content='").concat(c,"']")).classList.add("active")}}else{if(o){var n=o.getAttribute("".concat(e));t.querySelector("[".concat(e,"-content='").concat(n,"']")).classList.remove("active")}t.querySelector("[".concat(e,"-content='").concat(c,"']")).classList.add("active")}}))}}else{var l=a.target.closest("[".concat(e,"]"));if(l){var s=t.querySelector(".active[".concat(e,"]")),d=t.getAttribute("".concat(e,"-panel")),u=l.getAttribute("".concat(e)),f=document.querySelectorAll("[".concat(e,"-content-container='").concat(d,"']"));s&&s.classList.remove("active"),l.classList.add("active"),f.forEach((function(t){if(t.closest(".options-contents__item")){if(t.closest(".options-contents__item.active")){if(s){var a=s.getAttribute("".concat(e));t.querySelector("[".concat(e,"-content='").concat(a,"']")).classList.remove("active")}t.querySelector("[".concat(e,"-content='").concat(u,"']")).classList.add("active")}}else{if(s){var n=s.getAttribute("".concat(e));t.querySelector("[".concat(e,"-content='").concat(n,"']")).classList.remove("active")}t.querySelector("[".concat(e,"-content='").concat(u,"']")).classList.add("active")}}))}}}t.closest(".options-contents__item")?t.closest(".options-contents__item.active")&&n(a):n(a)}))}))},S=a(5638);var q=a(4145);a(527);function E(){return c.matches?"mouseenter focus":"click"}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.menu=document.querySelector(t),this.count=0,this.status=document.querySelector("[data-menu-status]"),this.resetBtn=document.querySelector("[data-menu-btn=reset]"),this.ranges=this.menu.querySelectorAll("[data-range-range]"),this.types=this.menu.querySelectorAll("[data-filter-type]"),this.init()}var t,a,n;return t=e,(a=[{key:"init",value:function(){this.menuHandlers(),this.touchHandlers()}},{key:"menuHandlers",value:function(){var e=this;document.querySelectorAll("[data-menu-btn]").forEach((function(t){var a=t.getAttribute("data-menu-btn"),n=t.getAttribute("data-modal-id");t.onclick=function(){e[a](n)}})),this.types.forEach((function(t){t.onchange=function(){t.checked?(t.classList.add("active"),e.count++):(t.classList.remove("active"),e.count--)}}))}},{key:"touchHandlers",value:function(){var e=this,t=0;this.menu.addEventListener("touchstart",(function(e){t=e.changedTouches[0].screenX})),this.menu.addEventListener("touchend",(function(a){a.target.closest("[data-range]")||a.changedTouches[0].screenX>t&&e.close()}))}},{key:"close",value:function(){this.menu.classList.remove("active"),document.body.classList.remove("body--hidden")}},{key:"open",value:function(){this.menu.classList.add("active"),document.body.classList.add("body--hidden")}},{key:"accept",value:function(){this.checkRanges(),this.count?(this.status.classList.add("active"),this.resetBtn.classList.remove("hidden")):(this.status.classList.remove("active"),this.resetBtn.classList.add("hidden")),this.close()}},{key:"reset",value:function(){this.menu.querySelectorAll("[data-modal-id].active").forEach((function(e){e.classList.remove("active")})),this.ranges.forEach((function(e){e.noUiSlider.reset()})),this.types.forEach((function(e){e.checked=!1})),this.count=0,this.status.classList.remove("active"),this.resetBtn.classList.add("hidden")}},{key:"openModal",value:function(e){this.menu.querySelector('[data-menu-modal="'.concat(e,'"]')).classList.add("active")}},{key:"closeModal",value:function(){this.menu.querySelector("[data-menu-modal].active").classList.remove("active")}},{key:"checkRanges",value:function(){var e=this;this.menu.querySelectorAll("[data-range]").forEach((function(t){var a=t.querySelector("[data-range-from]").getAttribute("data-range-from"),n=t.querySelector("[data-range-to]").getAttribute("data-range-to"),o=t.querySelector("[data-range-range]").noUiSlider.get();+a===e.getNumber(o[0])&&+n===e.getNumber(o[1])||e.count++}))}},{key:"getNumber",value:function(e){return+e.replace(" ","")}}])&&k(t.prototype,a),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",(function(){document.querySelector("[data-catalog-menu]")&&new O("[data-catalog-menu]")}));var x=a(9344),L=a.n(x),_=a(3655),A=a.n(_);function T(){var e=document.querySelectorAll("[data-range]");e.length&&(e.forEach((function(e){var t=e.querySelector("[data-range-range]"),a=e.querySelector("[data-range-from]"),n=e.querySelector("[data-range-to]"),o=a.getAttribute("data-range-from"),r=n.getAttribute("data-range-to"),c=t.getAttribute("data-range-min"),i=t.getAttribute("data-range-max");t&&t.noUiSlider||(L().create(t,{start:[o,r],connect:!0,behaviour:"none",range:{min:+c,max:+i},format:A()({decimals:0,thousand:" "})}),t.noUiSlider.on("update",(function(e,t){var o=e[t];t?n.value=o:a.value=o})),t.noUiSlider.on("change",(function(e,t){t?n.dispatchEvent(new Event("change",{bubbles:!0})):a.dispatchEvent(new Event("change",{bubbles:!0}))})),a.addEventListener("change",(function(){t.noUiSlider.set([this.value,null])})),n.addEventListener("change",(function(){t.noUiSlider.set([null,this.value])})))})),window.addEventListener("click",(function(e){if(e.target.closest("[data-range]")){var t=document.querySelectorAll("[data-range-input-block]"),a=e.target.closest("[data-range-input-block]");a&&(t.forEach((function(e){e.classList.remove("active")})),a.querySelector("input").focus(),a.classList.add("active"))}else document.querySelector("[data-range-input-block].active")&&document.querySelector("[data-range-input-block].active").classList.remove("active")})))}a(5638)((function(){T()})),document.addEventListener("DOMContentLoaded",(function(){T()}));var P=a(5440),j=a(5638);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){H(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var M=1024;j(window).on("load",(function(){var e=j("[data-slider-id]");0!==e.length&&e.each((function(){var e=j(this),t=e.data("slider-id"),a=e.find(".swiper-slide"),n=e.data("slider-min"),o={slidesPerView:"auto",spaceBetween:8,loop:!0,breakpoints:H({},M,{spaceBetween:12})};switch(t){case 10:o={pagination:{el:".swiper-pagination"},breakpoints:H({},M,{pagination:!1})};break;case 2:o=D(D({},o),{},{breakpoints:H({},M,{slidesPerView:2})});break;case 1:o=D({},o)}console.log(o);var r=e.data("slider-prev"),c=e.data("slider-next"),i=j('[data-slider-button="'.concat(r,'"]')),l=j('[data-slider-button="'.concat(c,'"]'));if(n>=a.length)i.closest("[data-slider-buttons]").addClass("hidden");else{var s=new P.Z(e[0],o);i.on("click",(function(){s.slidePrev()})),l.on("click",(function(){s.slideNext()}))}}))}));a(9490);var I=a(5638);function F(e,t){var a=e.term;if(""===I.trim(e.term))return t;if(void 0===t.text)return null;if(!a.match(/^[а-яё]/i))return t;var n=new RegExp("^".concat(a),"i");return t.text.match(n)?t:null}I((function(){I(".select__select").each((function(){var e=I(this),t=e.closest(".select-wrapper"),a=getComputedStyle(t[0]),n=e.data("select-placeholder"),o=e.is("[data-select-search]");"static"===a.position&&t.css("position","relative");var r={dropdownParent:t,selectOnClose:!0,placeholder:n,language:{noResults:function(){return"Подходящих городов нет"}}};o?r.matcher=F:r.minimumResultsForSearch=1/0,e.select2(r),e.on("select2:open",(function(a){t.css("z-index","100000");var n=t.find(".select2-dropdown");if(n.addClass("open"),o){var r=n.find(".select2-search__field"),i=e.data("select-search");r.val(""),r.attr("placeholder",i)}e.on("select2:closing",c)}));var c=function(a){a.preventDefault(),t.css("pointer-events","none"),e.off("select2:closing"),t.find(".select2-dropdown").removeClass("open");var n=t.find(".select2");n.addClass("closing"),n.removeClass("select2-container--open"),setTimeout((function(){t.css("pointer-events",""),n.addClass("select2-container--open"),setTimeout((function(){e.select2("close")}))}),400)}}))}));a(1044),a(9135);function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.select=this.root.querySelector("[data-select-select]"),this.options=this.select.options,this.selected=this.root.querySelector("[data-select-selected]"),this.list=this.root.querySelector("[data-select-list]"),this.dropdown=this.root.querySelector("[data-select-dropdown]"),this.initSelect(),this.clickHandler()}var t,a,n;return t=e,(a=[{key:"initSelect",value:function(){this.selected.textContent=this.options[0].textContent,this.renderOptions()}},{key:"clickHandler",value:function(){var e=this;window.addEventListener("click",(function(t){var a=t.target;if(a.closest("[data-select-button]"))if(e.root.classList.contains("active"))e.root.classList.remove("active"),e.dropdown.style.maxHeight="0";else{var n=e.list.offsetHeight;e.root.classList.add("active"),e.dropdown.style.maxHeight="".concat(n,"px")}if(a.closest("[data-select-option]")){var o=a.textContent;e.selected.textContent=o,e.root.classList.remove("active"),e.dropdown.style.maxHeight="0",e.select.value=o,e.select.dispatchEvent(new Event("change")),e.dropdown.addEventListener("transitionend",(function(){e.list.innerHTML="",e.renderOptions()}),{once:!0})}e.root.classList.contains("active")&&(a.closest(".custom-select")||(e.root.classList.remove("active"),e.dropdown.style.maxHeight="0"))}))}},{key:"renderOptions",value:function(){for(var e=0;e<this.options.length;e++)if(this.selected.textContent!==this.options[e].textContent){var t=document.createElement("li");t.classList.add("custom-select__item"),t.setAttribute("data-select-option",""),t.textContent=this.options[e].textContent,this.list.append(t)}}}])&&R(t.prototype,a),n&&R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("[data-select]");e.length&&e.forEach((function(e){new U(e)}))}));var N=a(5638);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Q(e,t){t&&e.geoObjects.removeAll();var a=ymaps.templateLayoutFactory.createClass('<div class="balloon__content balloon__content_cluster">$[properties.balloon]</div>'),n=new ymaps.Clusterer({clusterIconLayout:ymaps.templateLayoutFactory.createClass('<div class="cluster">{{ properties.geoObjects.length }}</div>'),clusterBalloonItemContentLayout:a,clusterBalloonContentLayout:"cluster#balloonCarousel",hideIconOnBalloonOpen:!1,clusterIconShape:{type:"Rectangle",coordinates:[[0,0],[50,50]]}});n.events.add(["balloonopen"],(function(e){n.getClusters()[0].getGeoObjects().forEach((function(e){var t=e.properties._data,a=document.createElement("div");a.innerHTML=t.balloon;var n=a.querySelector(".buy-page__title").textContent;document.querySelectorAll("[data-placemark]").forEach((function(e){e.querySelector(".buy-page__title").textContent===n&&e.classList.add("active")}))}))})),n.events.add(["balloonclose"],(function(e){document.querySelectorAll("[data-placemark].active").forEach((function(e){e.classList.remove("active")}))}));var o=ymaps.templateLayoutFactory.createClass(['<div class="balloon">','<div class="balloon__content">',"$[properties.balloon]","</div>",'<div class="balloon__close"></div>','<div class="balloon__arrow"></div>',"</div>"].join(""),{build:function(){this.constructor.superclass.build.call(this),this._$element=N(".balloon",this.getParentElement()),this._$element.find(".balloon__close").bind("click",this.onCloseClick),this.applyElementOffset()},onSublayoutSizeChange:function(){o.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2,top:-(this._$element[0].offsetHeight+38+4)})},getShape:function(){if(!this._isElement(this._$element))return o.superclass.getShape.call(this);var e=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left,e.top],[e.left+this._$element[0].offsetWidth,e.top+this._$element[0].offsetHeight]]))},onCloseClick:function(){e.balloon.close()},_isElement:function(e){return e&&e[0]}}),r=[],i=[],l=N("[data-placemarks]"),s=N("[data-placemark]");N("[data-placemark]").each((function(){i.push(ymaps.geocode(N(this).data("placemark").trim()))})),Promise.all(i).then((function(t){t.forEach((function(t,a){var i=s.eq(a).html(),d=s.eq(a).data("store-type"),u=s.eq(a).data("placemark-exposition");if(u){var f=function(e){var t=N(document.createElement("div")),a=[];e.forEach((function(e){var t='<a href="'.concat(e.link,'" target="_blank" class="buy-page__exposition-item">').concat(e.name,"</a>");a.push(t)}));var n=['<div class="buy-page__exposition">','<div class="buy-page__exposition-container">','<div class="buy-page__exposition-title">',"Экспозиция","</div>",'<div class="buy-page__exposition-list">',"".concat(a.join("")),"</div>","</div>","</div>"].join("");return t.html(n),t.html()}(u);i+=f}var p=t.geoObjects.get(0).geometry.getCoordinates(),m=new ymaps.Placemark(p,{balloon:i},{iconLayout:"default#image",iconImageHref:"".concat(window.CONFIG.path,"/assets/images/svg/placemark-").concat(d,".svg"),iconImageSize:[38,38],iconImageOffset:[-19,-19],balloonLayout:o,balloonPanelMaxMapArea:0,hideIconOnBalloonOpen:!1});m.events.add(["click"],(function(){if(c.matches){var e=s.eq(a)[0].offsetTop;l.scrollTop(e+1)}else{var t=document.querySelector("[data-placemark-modal]");t.querySelector("[data-placemark-container]").innerHTML=i;var n=G(G({},v),{},{animationEffect:"right"});N.fancybox.defaults=G(G({},N.fancybox.defaults),n),N.fancybox.open(N(t))}})),m.events.add(["balloonopen"],(function(){s.eq(a).addClass("active")})),m.events.add(["balloonclose"],(function(){s.eq(a).removeClass("active")})),c.matches&&s.eq(a).on("click",(function(){m.getParent()||e.setCenter(p,16);try{m.balloon.open()}catch(e){var t=function(e,t){for(var a,n=t.getClusters(),o=0;o<n.length;o++)for(var r=n[o].getGeoObjects(),c=0;c<r.length;c++)if(r[c]===e){a=n[o];break}return a}(m,n);n.balloon.open(t)}})),r.push(m)})),n.add(r),e.geoObjects.add(n),e.setBounds(n.getBounds(),{zoomMargin:Math.max(38,38)}).then((function(){1===r.length&&e.setZoom(15)}))}))}N((function(){if(N("#map").length){try{ymaps.ready((function(){var e=N("#map").data("map-center").split(" "),t=new ymaps.Map("map",{center:e,zoom:15,controls:[]},{maxZoom:22});Q(t),t.events.add("click",(function(){t.balloon.isOpen()&&t.balloon.close()})),N("#map")[0].YMap=t}))}catch(e){console.error(e)}var e=document.querySelector("[data-partners-btn]"),t=document.querySelector("[data-partners-select]").querySelector(".select2-selection__placeholder");e.onclick=function(){var e=this.closest("[data-fancy-modal]"),a=e.querySelectorAll("[data-partners-item]"),n=[];a.forEach((function(e){if(e.querySelector("[data-partners-checkbox]").checked){var t=e.querySelector("[data-partners-type]").textContent;n.push(t)}}));var o=n.length?n.join(", "):"тип партнера";t.textContent=o,N.fancybox.close(N(e))}}}));var $=a(1597);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("[data-gallery]");if(e.length){var t,a;i.matches?(t=450,a=634):(t=.6*window.innerWidth,a=.8*window.innerHeight);var n=[];e.forEach((function(e){var o=e.querySelector("img");n.push({src:o.src,type:"image",width:t,height:a})})),e.forEach((function(e){var t=e.dataset.gallery;e.addEventListener("click",(function(){$.KR.show(n,{startIndex:t})}))}))}})),document.addEventListener("DOMContentLoaded",(function(){var e,t,a=document.querySelectorAll("[data-fancybox-video]");a.length&&(c.matches?(e=.71*window.innerWidth,t=.7*window.innerHeight):e=window.innerWidth-30,a.forEach((function(a){var n=a.getAttribute("data-fancybox-video");a.addEventListener("click",(function(){$.KR.show([{src:n,type:"video",width:e,height:t}],{mainClass:"video-modal"})}))})))}));var Z=a(5638);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".cities-modal");if(e&&!c.matches){var t=e.querySelector("[data-cities-input]"),a=e.querySelectorAll("[data-cities-item]");t.addEventListener("input",(function(){var e=new RegExp("^".concat(this.value),"i");a.forEach((function(t){t.textContent.match(e)?t.classList.remove("hidden"):t.classList.add("hidden")}))}));var n=document.querySelector('[data-fancy-button="cities"]').querySelector(".select__select");a.forEach((function(t){t.addEventListener("click",(function(){var t=this.getAttribute("data-cities-item");Z(n).val(t).trigger("change"),Z.fancybox.close(e)}))}))}}));var W=a(5566),V=a.n(W);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){X(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ee=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.options=K({start:1,end:1/0,offset:1,speed:2},a),this.scrollHandler()}var t,a,n;return t=e,(a=[{key:"scrollHandler",value:function(){var e=this;window.addEventListener("scroll",(function(){e.update()}))}},{key:"getParallax",value:function(e){return e/10*this.options.speed}},{key:"setParallax",value:function(e){var t=this;requestAnimationFrame((function(){t.root.style.transform="translateY(".concat(e,"px)")}))}},{key:"update",value:function(){var e=window.scrollY;if(e>this.options.start&&e<this.options.end){var t=e-this.options.start+this.options.offset;this.setParallax(this.getParallax(t))}}},{key:"updateOptions",value:function(e){this.options=K(K({},this.options),e)}},{key:"onResize",value:function(e){var t=document.body;new MutationObserver(e).observe(t,{attributes:!0,childList:!0,subtree:!0})}}])&&J(t.prototype,a),n&&J(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),te=a(3412),ae=a(7371),ne=a(7369),oe=a(6383);a(4109);(0,oe.ScrollMagicPluginGsap)(te,ae.Q3,ne.b_),ae.Q3.defaultOverwrite=!1;function re(e,t,a,n,o){for(var r=0;r<t.length;r++)o[r]=new te.Scene({triggerElement:e,duration:n.offsetHeight,offset:(c='[data-color-block="'.concat(r,'"]'),document.documentElement.clientHeight-document.querySelector(c).getBoundingClientRect().bottom),triggerHook:1}).setClassToggle('[data-color-block="'.concat(r,'"]'),"dark").addTo(a);var c}var ce=function(){var e;!function(){var e=document.querySelector("[data-scroll-about]");if(e){var t=e.querySelectorAll("[data-scroll-section]"),a=t[0].offsetHeight/2,n=new te.Controller({refreshInterval:1}),o={};c.matches?(o.scale=1.65,o.top="48%"):(o.scale=1.33,o.top="36%");var r=document.querySelector("[data-scroll-first]");if(r){var i=window.innerHeight-r.offsetHeight,l=new ne.b_,s=r.querySelector("[data-scroll-wrapper]");c.matches&&l.add(ae.Q3.fromTo(s,1,{y:"0%"},{y:"25%",ease:"linear",immediateRender:!1})),l.add(ae.Q3.fromTo(r.querySelector("[data-scroll-overlay]"),1,{opacity:"0"},{opacity:"0.2",immediateRender:!1}),0);var d=new te.Scene({triggerElement:e,duration:a,triggerHook:1,offset:i}).setTween(l).addTo(n),u=new ne.b_;u.add(ae.Q3.fromTo(r.querySelector("[data-scroll-overlay]"),{opacity:"0.2"},{opacity:"0.5",ease:"linear",immediateRender:!1}),0),new te.Scene({triggerElement:e,duration:a,triggerHook:.5,offset:i}).setClassToggle(s,"fixed").setTween(u).addTo(n),c.matches||d.setClassToggle(s,"fixed")}t.forEach((function(e,r){var i=e.querySelectorAll("[data-scroll-stone]"),l=e.querySelector("[data-scroll-list]"),s=e.querySelectorAll("[data-scroll-opacity]"),d=e.querySelector("[data-scroll-scale]"),u=new ne.b_;if(r){var f=t[r-1].querySelector("[data-scroll-overlay]"),p=new ne.b_,m=t[r-1].querySelector("[data-scroll-wrapper]");p.add(ae.Q3.fromTo(f,1,{opacity:"0"},{opacity:"0.5",ease:"linear",immediateRender:!1}),0),new te.Scene({triggerElement:e,duration:window.innerHeight,triggerHook:1}).setClassToggle(m,"fixed").setTween(p).addTo(n)}var v=new ne.b_;i.forEach((function(e,t){var a;a=c.matches?e.dataset.scrollStone.split(","):e.dataset.scrollMobile.split(","),v.add(ae.Q3.fromTo(e,1,{bottom:"0%",rotate:"0deg"},{bottom:"".concat(a[0],"%"),rotate:"15deg",immediateRender:!1}),0),u.add(ae.Q3.fromTo(e,1,{bottom:"".concat(a[0],"%"),rotate:"15deg"},{bottom:"".concat(a[1],"%"),rotate:"30deg",immediateRender:!1}),0),u.add(ae.Q3.fromTo(e,1,{bottom:"".concat(a[1],"%"),rotate:"30deg"},{bottom:"".concat(a[2],"%"),rotate:"45deg",immediateRender:!1}),">")})),new te.Scene({triggerElement:e,duration:a,triggerHook:.5}).setTween(v).addTo(n),u.add(ae.Q3.fromTo(s,1,{opacity:1},{opacity:0,immediateRender:!1}),"<"),u.add(ae.Q3.fromTo(d,1,{scale:1},{scale:o.scale,immediateRender:!1}),"<"),u.add(ae.Q3.to(l,.5,{top:o.top}),"<0.5"),u.add(ae.Q3.to(i,1,{bottom:"110%"}),"<"),new te.Scene({triggerElement:e,duration:2*a,triggerHook:0}).setPin(e).setTween(u).addTo(n)}))}}(),e=document.querySelectorAll("[data-product-section]"),c.matches&&e.length&&e.forEach((function(e){var t=e.querySelector("[data-small-slider]"),a=e.querySelector("[data-product-overlay]"),n=new te.Controller({refreshInterval:1}),o=new ne.b_;o.add(ae.Q3.to(t,1,{top:"13%",ease:"linear"})),o.add(ae.Q3.fromTo(a,1,{opacity:"0"},{opacity:"0.2",ease:"linear"}),0),new te.Scene({triggerElement:e,duration:window.innerHeight,triggerHook:0,offset:-32}).setTween(o).setPin(e).addTo(n)})),c.matches&&document.querySelectorAll("[data-parallax]").forEach((function(e){var t=e.getBoundingClientRect().top-window.innerHeight,a=e.getBoundingClientRect().top+e.offsetHeight;new ee(e,{start:t,end:a})})),function(){var e=document.querySelector("#white-sec"),t=document.querySelector("#white-sec-mob");if(e||t){var a=new te.Controller,n=document.querySelectorAll("[data-color-block]");if(n.forEach((function(e,t){e.setAttribute("data-color-block","".concat(t))})),c.matches&&e){var o=[];re("#white-sec",n,a,e,o),window.addEventListener("resize",(function(){o.forEach((function(e){e.destroy()})),setTimeout((function(){re("#white-sec",n,a,e,o)}),500)}))}}}(),V().init({once:!0,offset:0,duration:500})};window.addEventListener("load",(function(){document.body.classList.remove("body--notransition");var e=document.querySelector(".preloader");if(e){document.body.classList.add("body--hidden");var t=document.querySelector(".main-slider");e.classList.add("preloader--hidden"),t.classList.remove("main-slider--zoom-out"),setTimeout((function(){document.body.classList.remove("body--hidden"),window.scrollTo(0,0),t.querySelector(".swiper-slide-active").classList.remove("text-out")}),1100),setTimeout((function(){ce()}),1700)}else ce()}));a(3053),a(685);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("[data-blur-section]");e&&c.matches&&window.addEventListener("scroll",(function(){var t=this.scrollY,a=t/this.innerHeight*12;t>this.innerHeight?e.style.backdropFilter="blur(12px)":t<this.innerHeight&&(e.style.backdropFilter="blur(".concat(a,"px)"))}))}));var ie=a(5638);function le(e,t){e.each((function(e,a){var n=ie(a),o=n.data("fetch-response"),r=ie(t).filter("[data-fetch-response=".concat(o,"]"));r.length||(r=ie(t).find("[data-fetch-response=".concat(o,"]"))),n.empty(),n.append(r.children())}))}function se(e,t){var a=e,n=a.parents("[data-container=filters]"),o=a.parents("[data-container=filter]"),r=o.data("filter-field"),c=ie("[data-fetch-response]").filter((function(e,t){return ie(t).data("fetch-response")!==n.data("fetch-response")}));window.filters.getData[o.data("get-type")](r,t),ie.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(e){le(c,e),window.filters.fetchCallable[n.data("fetch-callable")](a,e)}})}function de(){ie(document).ready((function(){var e=[];ie(document).find("[data-type=snippet-img-hide]").each((function(){e.push(ie(this).html())})),console.log(e),ie(document).find("[data-type=snippet-img-show]").each((function(t){console.log(t),ie(this).html(e[t])}))}))}ie((function(){ie(document).on("click","[data-type=show_more_click]",(function(e){var t=ie(this),a=t.parents("[data-type=container]"),n=a.find("[data-type=show_more_click_block]"),o=a.find("[data-type=items-container]");console.log("show more"),n.empty(),ie.ajax({method:"GET",url:t.data("url"),data:{ajax:"pagen"},success:function(e){var t=ie(e).find("[data-type=items-container]").html(),a=ie(e).find("[data-type=show_more_click]");o.append(t),a&&n.append(a),window.dispatchEvent(new Event("resize"))},error:function(e){console.debug(e)}})})),ie("[data-type=form]").on("submit",(function(e){e.preventDefault();var t=ie(this),a=t.attr("data-url"),n=!!t.find("[data-type=get-field-file]").length&&t.find("[data-type=get-field-file]"),o=!n&&"application/x-www-form-urlencoded; charset=UTF-8",r=!n,c=n?new FormData:{};n&&(ie.each(n.files,(function(e,t){c.append("file[]",t)})),c.append("file",n[0].files[0])),t.find("[data-type=get-field]").each((function(e,t){var a=ie(t),o=a.val();o&&(n?c.append(a.data("field"),o):c[a.data("field")]=o)})),ie.ajax({type:"POST",url:a,dataType:"json",contentType:o,processData:r,data:c,success:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.success?success(t):console.log(e.message)})),error:function(e){console.debug(e)}})})),ie("[data-type=input-search]").keypress((function(e){var t=ie(this).val();13==e.which&&(document.location.href="/search/?q="+t)})),ie(document).on("change","[data-type=filter-change]",(function(e){e.preventDefault(),console.log("change");var t=[],a=ie(document).find("[data-code=city]").val(),n=document.getElementById("map");ie(document).find("[data-code=type]").each((function(e,a){ie(a).is(":checked")&&(t[e]=ie(a).attr("data-value"))})),console.log(a),console.log(t),ie.ajax({method:"GET",url:window.location.href,data:{ajax:1,city:a,type:t},success:function(e){ie(document).find("[data-type=items-list]").empty(),ie(document).find("[data-type=items-list]").append(ie(e)),Q(n.YMap,!0),a&&ie(document).find("[data-code=city]").attr("data-select-placeholder",a)},error:function(e){console.debug(e)}})})),ie(document).on("change","[data-type=filter-change-catalog]",(function(e){e.preventDefault(),console.log("change catalog");var t=[],a=ie(this).attr("data-code-type"),n=ie(this).parents("body"),o=[],r=0,c=[];console.log("type block active before each - "+r),n.find("[data-type=filter-change-catalog]").each((function(e,a){var n=ie(a).attr("data-code"),o=ie(a).attr("data-code-type");if("type"==n)ie(a).is(":checked")&&(c[e]=ie(a).attr("data-value"),r=1,console.log("checked"));else{var i=ie(a).parents("[data-range]"),l=i.find("[data-range-from]").val(),s=i.find("[data-range-to]").val(),d=i.find("[data-type=hidden-min-"+o+"]").val(),u=i.find("[data-type=hidden-max-"+o+"]").val();t[n]=ie(a).val(),l==d&&s==u?i.attr("data-filter-active",0):i.attr("data-filter-active",1),0==l&&0==s&&i.attr("data-filter-active",0)}})),console.log("type block active - "+r),1==r?n.find("[data-type=range-type-block]").attr("data-filter-active",1):n.find("[data-type=range-type-block]").attr("data-filter-active",0),n.find("[data-filter-active=1]").each((function(e,t){var a=ie(t).attr("data-code-type");o[e]=a})),ie.ajax({method:"GET",url:window.location.href,data:{ajax:"pagen",type_filter:c,height_max:t.height_max,height_min:t.height_min,length_max:t.length_max,length_min:t.length_min,price_max:t.price_max,price_min:t.price_min,width_max:t.width_max,width_min:t.width_min,sort_filter:t.sort,active_code_filter_arr:o},success:function(e){var t=ie(e).find("[data-type=items-container]").html(),o=ie(e).find("[data-type=show_more_click]"),r=ie(e).find("[data-type=range-price-inner]").html(),c=ie(e).find("[data-type=range-length-inner]").html(),i=ie(e).find("[data-type=range-width-inner]").html(),l=ie(e).find("[data-type=range-height-inner]").html(),s=ie(e).find("[data-type=range-type-inner]").html();if(n.find("[data-type=items-container]").empty(),n.find("[data-type=items-container]").append(t),n.find("data-cur-filter-code").val(a),o&&(n.find("[data-type=show_more_click_block]").empty(),n.find("[data-type=show_more_click_block]").append(o)),"price"!=a){var d=n.find("[data-type=range-price-block]");0==d.attr("data-filter-active")&&(d.empty(),d.append(r))}if("length"!=a){var u=n.find("[data-type=range-length-block]");0==u.attr("data-filter-active")&&(u.empty(),u.append(c))}if("width"!=a){var f=n.find("[data-type=range-width-block]");0==f.attr("data-filter-active")&&(f.empty(),f.append(i))}if("height"!=a){var p=n.find("[data-type=range-height-block]");0==p.attr("data-filter-active")&&(p.empty(),p.append(l))}if("type"!=a){var m=n.find("[data-type=range-type-block]");0==m.attr("data-filter-active")&&(m.empty(),m.append(s))}T()},error:function(e){console.debug(e)}})})),ie(document).on("click","[data-type=modal-options]",(function(e){e.preventDefault();var t=ie(this).attr("data-name-opt"),a=ie(this).parents("body");console.log("Дополнительная опция - "+t),ie.ajax({method:"POST",url:"/local/templates/main/include/ajax/modals/options.php",data:{name:t},success:function(e){console.log(e),a.find("[data-type=modal-options-container]").empty(),a.find("[data-type=modal-options-container]").append(ie(e)),de()},error:function(e){console.debug(e)}})})),ie("[data-type=form-order]").on("submit",(function(e){e.preventDefault();var t=ie(this),a=t.attr("data-url"),n=t.parents("[data-type=form-containers]"),o={};o.UF_ID_PROD=n.attr("data-id-prod"),o.UF_PROD_NAME=n.attr("data-name-prod"),o.UF_MATERIALS=n.find("[data-ttl-order=materials]").text(),o.UF_COATING=n.find("[data-ttl-order=coating]").text(),n.find("[color-mod-order=color-mod-order]").text()&&(o.UF_COLOR_MOD=n.find("[color-mod-order=color-mod-order]").text()+", "+n.find("[data-color-order=data-color-order]").text()+", цена - "+n.find("[data-price-order=color]").text()+" руб."),n.find("[data-ttl-order=drainage]").text()&&(o.UF_DRAINAGE=n.find("[data-ttl-order=drainage]").text()+", цена - "+n.find("[data-price-order=drainage]").text()+" руб."),n.find("[data-dop-id]").each((function(e,t){ie(t).text()&&(o.UF_DOP_OPTIONS&&(o.UF_DOP_OPTIONS=o.UF_DOP_OPTIONS+", "),o.UF_DOP_OPTIONS=o.UF_DOP_OPTIONS+ie(t).text())})),n.find("[data-price-order=dop-options]").text()&&(o.UF_DOP_OPTIONS=o.UF_DOP_OPTIONS+". Цена - "+n.find("[data-price-order=dop-options]").text()+" руб."),n.find("[data-ttl-order=dop1]").text()&&(o.UF_FORNT_PANELS=n.find("[data-ttl-order=dop1]").text()+", цена - "+n.find("[data-price-order=dop1]").text()+" руб."),n.find("[data-ttl-order=dop2]").text()&&(o.UF_SIDE_PANELS=n.find("[data-ttl-order=dop2]").text()+", цена - "+n.find("[data-price-order=dop2]").text()+" руб."),o.UF_PRICE_FULL=n.find("[data-total-price=data-total-price]").text()+" руб.",t.find("[data-type=get-field]").each((function(e,t){var a=ie(t),n=a.val();o[a.data("field")]=n})),console.log(o),ie.ajax({type:"POST",url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,data:o,success:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.success?success(t):console.log(e.message)})),error:function(e){console.debug(e)}})})),de(),ie(document).on("click","[data-type=filter-click]",(function(){var e=ie(this);se(e,e.data("val"))})),ie(document).on("change","[data-type=filter]",(function(){var e=ie(this);se(e,e.val())})),ie(document).on("click","[data-type=filter-apply]",(function(){ie(this).parents("[data-container=filters]").find("[data-container=filter]").each((function(e,t){var a=ie(t);window.filters.getData[a.data("get-type")](a)})),ie.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(e){le(ie("[data-fetch-response]"),e)}})})),ie("[data-range-event]").each((function(e,t){var a=ie(t);t.noUiSlider.on("change",(function(e){window.filters.data.filters[a.data("field")]=e,ie.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(e){le(ie("[data-fetch-response]"),e)}})}))})),ie(document).on("click","[data-type=filter-reset]",(function(){window.filters.data.filters={},ie.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(e){le(ie("[data-fetch-response]"),e)}})})),ie(document).on("click","[data-type=filter-remove]",(function(){var e=ie(this).data("field");delete window.filters.data.filters[e],ie.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(e){le(ie("[data-fetch-response]"),e)}})})),ie(document).on("change","[data-type=sort]",(function(){var e=ie(this),t=e.data("field");window.sort.data.sort[t]=e.val(),ie.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.sort.data,success:function(e){le(ie("[data-fetch-response]"),e)}})}))})),window.filters={data:{filters:{},ajax:"filters"},getData:{one:function(e,t){return t?(window.filters.data.filters[e]=t,!0):(delete window.filters.data.filters[e],!1)},many:function(e,t){var a;return window.filters.data.filters[e]||(window.filters.data.filters[e]={}),window.filters.data.filters[e][t]?(a=!1,delete window.filters.data.filters[e][t],Object.keys(window.filters.data.filters[e]).length||delete window.filters.data.filters[e]):(a=!0,window.filters.data.filters[e][t]=t),a},range:function(e){window.filters.data.filters[e.data("field")]=e.find("[data-range-range]")[0].noUiSlider.get()},checkbox:function(e){var t={};e.find(":checkbox:checked").each((function(e,a){console.log(ie(a));var n=ie(a).val();t[n]=n})),window.filters.data.filters[e.data("field")]=t}},fetchCallable:{initMap:function(){console.log(document.getElementById("map")),Q(document.getElementById("map").YMap,!0)}}},window.addEventListener("cloneFilter",(function(e){var t=ie(e.detail.elem).find("[data-type=filter-remove]");try{t.find("[data-type=filter-remove]").attr("data-field",JSON.parse(e.detail.field)[e.detail.index])}catch(e){t.find("[data-type=filter-remove]").attr("data-field",e.detail.field)}})),window.sort={data:{sort:{},ajax:"sort"}};var ue=document.querySelector("[data-type=site-templ-path]");window.CONFIG=window.location.hostname&&"cloudmill.github.io"!==window.location.hostname?{path:ue?ue.value:"/local/templates/main",debug:!0}:{path:"./",debug:!0},document.addEventListener("DOMContentLoaded",(function(){var e;!function(){var e=document.querySelector("#main-slider");if(e){var t=e.querySelectorAll(".swiper-slide").length,a=e.querySelector("[data-pagination]"),o=a.querySelector("[data-pagination-current]"),r=a.querySelector("[data-pagination-total]");new n.ZP("#main-slider",{modules:[n.W_,n.tl],loop:!0,speed:1e3,navigation:{prevEl:"#main-slider-prev",nextEl:"#main-slider-next"},on:{init:function(){r.textContent=t<10?"0".concat(t):t,this.$el.find(".swiper-slide-active").addClass("text-out")},slideChange:function(){var e=this.realIndex+1;a.classList.add("text-out"),setTimeout((function(){o.textContent=e<10?"0".concat(e):e,a.classList.remove("text-out")}),800)}}})}var c=new n.ZP("#product-slider",{modules:[n.tl],loop:l("#product-slider"),speed:800,pagination:{el:"#product-slider-pagination",clickable:!0}});document.querySelector("#product-slider")&&(document.querySelectorAll("#product-slider-prev").forEach((function(e){e.addEventListener("click",(function(){c.slidePrev()}))})),document.querySelectorAll("#product-slider-next").forEach((function(e){e.addEventListener("click",(function(){c.slideNext()}))})));var i=new n.ZP("#product-slider2",{modules:[n.tl],loop:l("#product-slider2"),speed:800,pagination:{el:"#product-slider-pagination2",clickable:!0}});document.querySelector("#product-slider2")&&(document.querySelectorAll("#product-slider-prev2").forEach((function(e){e.addEventListener("click",(function(){i.slidePrev()}))})),document.querySelectorAll("#product-slider-next2").forEach((function(e){e.addEventListener("click",(function(){i.slideNext()}))}))),new n.ZP("#small-product-slider",{modules:[n.W_],loop:!0,speed:800,navigation:{prevEl:"#small-product-slider-prev",nextEl:"#small-product-slider-next"}});var s=new n.ZP("#about-slider",{modules:[n.W_],loop:l("#about-slider"),speed:800,pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector("#about-slider")&&(document.querySelectorAll("#about-slider-prev").forEach((function(e){e.addEventListener("click",(function(){s.slidePrev()}))})),document.querySelectorAll("#about-slider-next").forEach((function(e){e.addEventListener("click",(function(){s.slideNext()}))})));var d=new n.ZP("#cards-slider",{modules:[n.W_],loop:!0,breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2.1,spaceBetween:10},1024:{slidesPerView:2.5,spaceBetween:12}}});document.querySelector("#cards-slider")&&(document.querySelectorAll("#cards-slider-prev").forEach((function(e){e.addEventListener("click",(function(){d.slidePrev()}))})),document.querySelectorAll("#cards-slider-next").forEach((function(e){e.addEventListener("click",(function(){d.slideNext()}))}))),new n.ZP("#colors-slider",{modules:[n.W_],slidesPerView:8,spaceBetween:4})}(),h("form").parsley(),Parsley.addMessages("ru",{defaultMessage:"Некорректное значение",type:{email:"Введите адрес электронной почты",url:"Введите URL адрес",number:"Введите число",integer:"Введите целое число",digits:"Введите только цифры",alphanum:"Введите буквенно-цифровое значение"},notblank:"Это поле должно быть заполнено",required:"Заполните поле",pattern:"Это значение некорректно",min:"Это значение должно быть не менее чем %s",max:"Это значение должно быть не более чем %s",range:"Это значение должно быть от %s до %s",minlength:"Это значение должно содержать не менее %s символов",maxlength:"Это значение должно содержать не более %s символов",length:"Это значение должно содержать от %s до %s символов",mincheck:"Выберите не менее %s значений",maxcheck:"Выберите не более %s значений",check:"Выберите от %s до %s значений",equalto:"Это значение должно совпадать"}),Parsley.setLocale("ru"),document.querySelectorAll("[data-parsley-validate]").forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault();var a=g(g({},v),{},{beforeClose:function(){e.reset(),e.querySelectorAll("[data-input]").forEach((function(e){e.classList.remove("form-input--active")}))}});h.fancybox.defaults=g(g({},h.fancybox.defaults),a),h.fancybox.open(h("[data-fancy-modal=response]"))}))})),Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1}).mask("[data-phone-input]"),window.Parsley.addValidator("string",{requirementType:"string",validateString:function(e){var t=/[^a-zа-яё\s]/i;return console.log(t.test(e)),!t.test(e)},messages:{ru:"Спецсимволы и цифры запрещены"}}),(e=document.querySelectorAll("[data-popular-tabs]")).length&&e.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("active")}))})),w("data-tab"),w("data-tab2"),w("data-tab3"),(0,q.ZP)("[data-options-tooltip]",{content:'<div class="tooltip-big-text">Узнать стоимость данной опции и уточнить интересующую вас информацию Вы можете у диллера в вашем городе</div><div class="tooltip-small-text">Чертеж технического отверстия для ванны</div><div class="tooltip-pics-row"><img src="assets/images/tooltip-pic-1.jpeg" alt=""/><img src="assets/images/tooltip-pic-2.jpeg" alt=""/></div>',maxWidth:320,allowHTML:!0,trigger:E()}),s();var t=document.querySelectorAll(".js-badger-accordion");Array.from(t).forEach((function(e){new d.Z(e)}));var a=document.querySelector("[data-articule]");a&&document.querySelectorAll("[data-articule-tab]").forEach((function(e){e.addEventListener("click",(function(){a.innerText=e.getAttribute("data-articule-tab")}))})),document.querySelector("[data-catalog-page]")&&(null!==window.sessionStorage.getItem("catalogLastPosition")&&window.scrollTo(0,Number(window.sessionStorage.getItem("catalogLastPosition"))),window.addEventListener("beforeunload",(function(){window.sessionStorage.setItem("catalogLastPosition","".concat(window.pageYOffset))})));var o=document.querySelector("[data-old-modal]"),r=document.querySelector("[data-old-modal-close]");o&&r.addEventListener("click",(function(){o.remove()}))})),window.addEventListener("load",(function(){!function(){if(S("[data-anchor-links]").length){var e=function(){r.length=0,S("[data-section]").each((function(){r.push({top:S(this).offset().top,a:i.filter('[data-scroll="#'+S(this).attr("id")+'"]')})})),r=r.reverse()},t=function(){for(var e=S(window).scrollTop(),t=0;t<r.length;t++)if(r[t].top-a<e+a){c!==t&&(c=t,o.removeClass("active"),r[t].a.addClass("active"));break}r[r.length-1].top-a>e+a&&(o.removeClass("active"),r[r.length-1].a.addClass("active"))},a=S(".header").height()+10,n=60,o=S("[data-page-link]"),r=[],c=null,i=o;e(),S(window).one("resize",(function t(){setTimeout((function(){e(),S(window).one("resize",t)}),1e3/n)})),t(),S(window).one("scroll",(function e(){setTimeout((function(){t(),S(window).one("scroll",e)}),1e3/n)})),S("[data-scroll]").on("click",(function(e){e.preventDefault();var t=S(this).data("scroll"),n=S(t).offset().top;S("html, body").animate({scrollTop:n-a},700)}))}}(),function(){var e=document.querySelector("[data-product-title]"),t=document.querySelector("[data-back-button-offset]");if(e&&t&&c.matches){var a=e.getBoundingClientRect().top+e.clientHeight+16;t.style.paddingTop="".concat(a,"px")}}();var e=document.querySelector("[data-about-video]");e&&(e.play(),e.setAttribute("autoplay",""))}))},9135:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("[data-filter-selected]");if(e){var t={},a=document.querySelector("[data-filter-price]"),n=document.querySelectorAll("[data-catalog-accordion]");n.forEach((function(e){e.onclick=function(){var t=document.querySelector("[data-catalog-accordion].active");t&&t.classList.remove("active"),e.classList.toggle("active")}})),window.addEventListener("click",(function(o){var r=o.target;if(r.closest("[data-filter-accept]")){var c=r.closest("[data-filter-property]"),i=c.getAttribute("data-filter-property"),l=c.querySelectorAll("[data-filter-range]"),s=[];if(l.length)l.forEach((function(e){var t=e.getAttribute("data-filter-range").split(" "),a=e.noUiSlider.get();s.push("".concat(t[0]," ").concat(a.join(" - ")," ").concat(t[1]))}));else c.querySelectorAll("[data-filters-check]").forEach((function(e){e.checked&&s.push(e.getAttribute("data-filters-check"))}));t[i]=s;var d=a.noUiSlider.get();t.price=["".concat(d.join(" - ")," ₽")],function(t){var a=e.querySelector("[data-filter-template]"),n=e.querySelector("[data-filter-list]");n.innerHTML="";var o=0,r=function(e){t[e].forEach((function(t){var r=a.content.firstElementChild.cloneNode(!0),c=r.querySelector("[data-prop-text]");window.dispatchEvent(new CustomEvent("cloneFilter",{detail:{field:e,elem:r,index:o}})),c.textContent=t,n.append(r),o++}))};for(var c in t)r(c);e.classList.remove("hidden")}(t),r.closest("[data-catalog-accordion]").classList.remove("active")}if(r.closest("[data-prop-delete]")){var u=r.closest("[data-prop]"),f=u.querySelector("[data-prop-text]"),p=document.querySelector('[data-filters-check="'.concat(f.textContent,'"]'));p&&(p.checked=!1,p.dispatchEvent(new Event("change"))),u.remove()}if(r.closest("[data-filter-reset]")){var m=e.querySelector("[data-filter-list]");document.querySelectorAll("[data-filters-check]").forEach((function(e){e.checked&&(e.checked=!1)})),m.innerHTML="",t={},e.classList.add("hidden")}r.closest("[data-catalog-accordion]")||n.forEach((function(e){return e.classList.remove("active")}))}))}}))},1044:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("[data-category]");e.length&&e.forEach((function(e){e.onclick=function(){this.classList.toggle("active")}}))}))},3053:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("[data-input]");e.length&&e.forEach((function(e){e.oninput=function(){this.value?this.classList.add("form-input--active"):this.classList.remove("form-input--active")}}))}))},685:()=>{var e,t;function a(){document.querySelectorAll("[data-opts-set]").forEach((function(e){"colors2"===e.getAttribute("data-opts-set")||"colors1"===e.getAttribute("data-opts-set")||!e.closest(".options-contents__item.active")&&"materials"!=e.getAttribute("data-opts-set")||function(e){var t,a,n,i,l,s=r(e),d=function(e){return null!==e.querySelector("[data-product-tab].active")&&e.querySelector("[data-product-tab].active")};t="coating"==e?"materials":e;function u(e,t){a=document.querySelector("[data-ttl-order='".concat(e,"']")),n=document.querySelector("[data-price-order='".concat(t,"']"))}function f(){i=!1!==d(s)?d(s).querySelector("[data-opt-ttl]"):null,l="materials"==e||"coating"==e?c():!1===d(s)?0:Number(d(s).querySelector("[data-opt-price]").getAttribute("data-opt-price"))}function p(){null!==a&&(null===i?a.innerText="":a.innerHTML=i.innerHTML),null!==n&&(n.innerText=l.toLocaleString())}u(e,t),f(),p(),s.addEventListener("click",(function(){setTimeout((function(){f(),p(),o()}))})),o()}(e.getAttribute("data-opts-set"))}))}function n(){if(r("colors1")&&r("colors2")){var e=function(e){var t=document.querySelector("[color-mod-order]"),a=Number(e.getAttribute("data-percent")),n=document.querySelector('[data-price-order="color"]');t.innerText=e.getAttribute("data-color-tab"),n.innerText=Math.floor(c()/100*a).toLocaleString()},t=function(){setTimeout((function(){var e=r("colors2").querySelector("[data-product-tab].active");document.querySelector("[data-color-order]").innerText=e.getAttribute("data-opt-ttl")}))},a=r("colors1").querySelector("[data-product-tab].active");e(a),t(),o(),r("colors1").addEventListener("click",(function(t){(a=t.target.closest("[data-color-tab]"))&&(e(a),o(),a.hasAttribute("data-default-opt")?document.querySelector("[data-color-row]").classList.add("display-none"):document.querySelector("[data-color-row]").classList.remove("display-none"))})),r("colors2").addEventListener("click",(function(){t()}))}}function o(){var e=document.querySelectorAll("[data-total-price]"),t=[];document.querySelectorAll("[data-price]").forEach((function(e){var a=Number(e.innerText.replace(/\D/g,""));t.push(a)})),e.forEach((function(e){var a=t.reduce((function(e,t){return e+t}),0);e.innerText=a.toLocaleString()}))}function r(e){var t;return document.querySelectorAll("[data-opts-set='".concat(e,"']")).forEach((function(a){(a.closest(".options-contents-inner__item.active")&&a.closest(".options-contents__item.active")||"materials"==e||"coating"==e&&a.closest(".options-contents__item.active"))&&(t=a)})),t}function c(){var e;return document.querySelectorAll("[data-base-price].active").forEach((function(t){t.closest(".options-contents__item.active")&&(e=Number(t.getAttribute("data-base-price")))})),e}function i(){var e=document.querySelector("[data-articule]");document.querySelectorAll("[data-articule-tab].active").forEach((function(t){t.closest(".options-contents__item.active")&&t.closest(".options-contents-inner__item.active")&&(e.innerText=t.getAttribute("data-articule-tab"))}))}function l(){document.querySelectorAll("[data-opts-set]").forEach((function(e){e.closest(".options-contents-inner__item.active")&&e.closest(".options-contents__item.active")&&(e.hasAttribute("data-no-default-opt")&&e.querySelector("[data-product-tab].active")?e.querySelector("[data-product-tab].active").classList.remove("active"):"materials"!==e.getAttribute("data-opts-set")&&"coating"!==e.getAttribute("data-opts-set")&&"drainage"!==e.getAttribute("data-opts-set")&&(e.querySelector("[data-product-tab].active").classList.remove("active"),e.querySelector("[data-default-opt]").classList.add("active")))})),document.querySelectorAll('[data-opts-set="colors2"]').forEach((function(e){e.querySelector("[data-tab-content].active").classList.remove("active"),e.querySelector('[data-tab-content="1"]').classList.add("active")})),document.querySelectorAll("[data-dop-options]").forEach((function(e){e.closest(".options-contents-inner__item.active")&&e.closest(".options-contents__item.active")&&e.querySelectorAll('input[type="checkbox"]').forEach((function(e){e.checked=!1}))}))}document.querySelector("[data-product-options]")&&(a(),n(),e=document.querySelector(".options-contents__item.active").querySelectorAll("[data-dop-option]"),(t=document.querySelector("[data-dop-options-order]")).innerHTML="",e.length>0&&e.forEach((function(e,a){e.setAttribute("data-dop-option","".concat(a));var n=e.querySelector("input[type=checkbox]"),o=e.getAttribute("data-dop-option");if(!0===n.checked){var r=e.querySelector("[data-dop-option-txt]").innerText;t.insertAdjacentHTML("beforeend","<div class='txt' data-dop-id='".concat(o,"'>").concat(r,"</div>"))}else t.querySelector("[data-dop-id='".concat(o,"']"))&&t.querySelector("[data-dop-id='".concat(o,"']")).remove();t.querySelectorAll("[data-dop-id]").length<1?document.querySelector("[data-dop-options-order-row]").classList.add("display-none"):document.querySelector("[data-dop-options-order-row]").classList.remove("display-none"),n.addEventListener("input",(function(){if(!0===n.checked){var a=e.querySelector("[data-dop-option-txt]").innerText;t.insertAdjacentHTML("beforeend","<div class='txt' data-dop-id='".concat(o,"'>").concat(a,"</div>"))}else t.querySelector("[data-dop-id='".concat(o,"']")).remove();t.querySelectorAll("[data-dop-id]").length<1?document.querySelector("[data-dop-options-order-row]").classList.add("display-none"):document.querySelector("[data-dop-options-order-row]").classList.remove("display-none")}))})),document.querySelectorAll("[data-main-tabs]").forEach((function(e){e.addEventListener("click",(function(e){e.target.closest("[data-tab]")&&setTimeout((function(){l(),a(),n(),i(),document.querySelector("[data-dop-options-order]").innerHTML=""}))}))})),document.querySelectorAll('[data-opts-set="coating"]').forEach((function(e){e.addEventListener("click",(function(e){e.target.closest("[data-tab3]")&&setTimeout((function(){l(),a(),n(),i(),document.querySelector("[data-dop-options-order]").innerHTML=""}))}))})))}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,o,r)=>{if(!a){var c=1/0;for(d=0;d<e.length;d++){for(var[a,o,r]=e[d],i=!0,l=0;l<a.length;l++)(!1&r||c>=r)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(i=!1,r<c&&(c=r));if(i){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,[c,i,l]=a,s=0;if(c.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var d=l(n)}for(t&&t(a);s<c.length;s++)r=c[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=n.O(void 0,[394],(()=>n(8610)));o=n.O(o)})();