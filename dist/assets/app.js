(()=>{var t,e={4601:(t,e,a)=>{"use strict";var n=a(5191),o=1024,r=768,i=window.matchMedia("(min-width: ".concat(o,"px)")),c=window.matchMedia("(min-width: ".concat(r,"px)"));function l(t,e){var a=document.querySelector(t);if(a){if(a.querySelectorAll(".swiper-slide").length>1)return!0;var n=document.querySelectorAll("[data-slider-buttons=".concat(e,"]"));if(n.length>0)return n.forEach((function(t){return t.classList.add("hidden")})),!1}}var d=function(){document.querySelectorAll("[data-drop]").forEach((function(t){var e=t.querySelector("[data-drop-btn]"),a={isOpen:!1},n="BTN_CLICK",o="CLICK_OUTSIDE";window.addEventListener("click",(function(r){!function(e){switch(e){case n:t.classList.toggle("drop--open"),a.isOpen=!a.isOpen;break;case o:t.classList.remove("drop--open"),a.isOpen=!1}}(function(t){var a=t.closest("[data-drop-btn]");return!!a&&a===e}(r.target)?n:o)}))}))},s=a(7386),u=(a(4563),a(8917),a(5638));function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={closeExisting:!0,touch:!1,hideScrollbar:!1,autoFocus:!1,baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-stage"></div></div>',animationEffect:"zoom",animationDuration:400,afterShow:function(t,e){u(e.src).closest(".fancybox-container").addClass("open")},beforeShow:function(t,e){}};u((function(){u("[data-fancy-button]").on("click",(function(t){var e=p({},v);t.preventDefault();var a=u(this).data("fancy-button"),n=u('[data-fancy-modal="'.concat(a,'"]'));switch(a){case"size":case"contacts":case"callback":case"popular":case"type":case"premium":case"order":case"production":case"partners":e.animationEffect="right";break;case"cities":if(i.matches)return;e.animationEffect="right";break;case"menu":e.animationEffect="top",e.baseClass="menu-layout";break;case"search":e.animationEffect="top",e.beforeShow=function(t,e){e.$slide.closest(".fancybox-container").find(".fancybox-bg").addClass("fancybox-bg_search")},e.afterShow=function(t,e){u(e.src).closest(".fancybox-container").addClass("open");var a=e.src.querySelector("input");a&&a.focus()};break;case"collections":e.animationEffect="left"}u.fancybox.defaults=p(p({},u.fancybox.defaults),e),u.fancybox.open(n)}))}));a(3419);var h=a(5638);function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var w=function(t){var e=document.querySelectorAll("[".concat(t,"-panel]"));e.length&&e.forEach((function(e){e.addEventListener("click",(function(a){function n(a){if(a.target.closest("[data-main-tabs]")){var n=a.target.closest("[".concat(t,"]"));if(n){var o=e.querySelector(".active[".concat(t,"]")),r=e.getAttribute("".concat(t,"-panel")),i=n.getAttribute("".concat(t)),c=document.querySelectorAll("[".concat(t,"-content-container='").concat(r,"']"));o&&document.querySelectorAll("[".concat(t,"-panel='").concat(r,"']")).forEach((function(e){e.querySelector(".active[".concat(t,"]")).classList.remove("active")})),document.querySelectorAll("[".concat(t,"-panel='").concat(r,"']")).forEach((function(e){e.querySelector("[".concat(t,'="').concat(i,'"]')).classList.add("active")})),c.forEach((function(e){if(e.closest(".options-contents__item")){if(e.closest(".options-contents__item.active")){if(o){var a=o.getAttribute("".concat(t)),n=e.querySelector("[".concat(t,"-content='").concat(a,"']"));n&&n.classList.remove("active")}var r=e.querySelector("[".concat(t,"-content='").concat(i,"']"));r&&r.classList.add("active")}}else{if(o){var c=o.getAttribute("".concat(t));e.querySelector("[".concat(t,"-content='").concat(c,"']")).classList.remove("active")}e.querySelector("[".concat(t,"-content='").concat(i,"']")).classList.add("active")}}))}}else{var l=a.target.closest("[".concat(t,"]"));if(l){var d=e.querySelector(".active[".concat(t,"]")),s=e.getAttribute("".concat(t,"-panel")),u=l.getAttribute("".concat(t)),f=document.querySelectorAll("[".concat(t,"-content-container='").concat(s,"']"));a.target.closest("[data-no-default-opt]")&&l.classList.contains("active")?l.classList.remove("active"):(d&&d.classList.remove("active"),l.classList.add("active")),f.forEach((function(e){if(e.closest(".options-contents__item")){if(e.closest(".options-contents__item.active")){if(d){var a=d.getAttribute("".concat(t)),n=e.querySelector("[".concat(t,"-content='").concat(a,"']"));n&&n.classList.remove("active")}var o=e.querySelector("[".concat(t,"-content='").concat(u,"']"));o&&o.classList.add("active")}}else{if(d){var r=d.getAttribute("".concat(t));e.querySelector("[".concat(t,"-content='").concat(r,"']")).classList.remove("active")}e.querySelector("[".concat(t,"-content='").concat(u,"']")).classList.add("active")}}))}}}e.closest(".options-contents__item")?e.closest(".options-contents__item.active")&&n(a):n(a)}))}))},S=a(5638);var x=a(4145);a(527);function _(){return i.matches?"mouseenter focus":"click"}function E(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.menu=document.querySelector(e),this.count=0,this.status=document.querySelector("[data-menu-status]"),this.resetBtn=document.querySelector("[data-menu-btn=reset]"),this.ranges=this.menu.querySelectorAll("[data-range-range]"),this.types=this.menu.querySelectorAll("[data-filter-type]"),this.init()}var e,a,n;return e=t,(a=[{key:"init",value:function(){this.menuHandlers(),this.touchHandlers()}},{key:"menuHandlers",value:function(){var t=this;document.querySelectorAll("[data-menu-btn]").forEach((function(e){var a=e.getAttribute("data-menu-btn"),n=e.getAttribute("data-modal-id");e.onclick=function(){t[a](n)}})),this.types.forEach((function(e){e.onchange=function(){e.checked?(e.classList.add("active"),t.count++):(e.classList.remove("active"),t.count--)}}))}},{key:"touchHandlers",value:function(){var t=this,e=0;this.menu.addEventListener("touchstart",(function(t){e=t.changedTouches[0].screenX})),this.menu.addEventListener("touchend",(function(a){a.target.closest("[data-range]")||a.changedTouches[0].screenX>e&&t.close()}))}},{key:"close",value:function(){this.menu.classList.remove("active"),document.body.classList.remove("body--hidden")}},{key:"open",value:function(){this.menu.classList.add("active"),document.body.classList.add("body--hidden")}},{key:"accept",value:function(){this.checkRanges(),this.count?(this.status.classList.add("active"),this.resetBtn.classList.remove("hidden")):(this.status.classList.remove("active"),this.resetBtn.classList.add("hidden")),this.close()}},{key:"reset",value:function(){this.menu.querySelectorAll("[data-modal-id].active").forEach((function(t){t.classList.remove("active")})),this.ranges.forEach((function(t){t.noUiSlider.reset()})),this.types.forEach((function(t){t.checked=!1})),this.count=0,this.status.classList.remove("active"),this.resetBtn.classList.add("hidden")}},{key:"openModal",value:function(t){this.menu.querySelector('[data-menu-modal="'.concat(t,'"]')).classList.add("active")}},{key:"closeModal",value:function(){this.menu.querySelector("[data-menu-modal].active").classList.remove("active")}},{key:"checkRanges",value:function(){var t=this;this.menu.querySelectorAll("[data-range]").forEach((function(e){var a=e.querySelector("[data-range-from]").getAttribute("data-range-from"),n=e.querySelector("[data-range-to]").getAttribute("data-range-to"),o=e.querySelector("[data-range-range]").noUiSlider.get();+a===t.getNumber(o[0])&&+n===t.getNumber(o[1])||t.count++}))}},{key:"getNumber",value:function(t){return+t.replace(" ","")}}])&&E(e.prototype,a),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(){document.querySelector("[data-catalog-menu]")&&new k("[data-catalog-menu]")}));var O=a(9344),L=a.n(O),q=a(3655),P=a.n(q);function C(){var t=document.querySelectorAll("[data-range]");t.length&&(t.forEach((function(t){var e=t.querySelector("[data-range-range]"),a=t.querySelector("[data-range-from]"),n=t.querySelector("[data-range-to]"),o=a.getAttribute("data-range-from"),r=n.getAttribute("data-range-to"),i=e.getAttribute("data-range-min"),c=e.getAttribute("data-range-max");e&&e.noUiSlider||(L().create(e,{start:[o,r],connect:!0,behaviour:"none",range:{min:+i,max:+c},format:P()({decimals:0,thousand:" "})}),e.noUiSlider.on("update",(function(t,e){var o=t[e];e?n.value=o:a.value=o})),e.noUiSlider.on("change",(function(t,e){e?n.dispatchEvent(new Event("change",{bubbles:!0})):a.dispatchEvent(new Event("change",{bubbles:!0}))})),a.addEventListener("change",(function(){e.noUiSlider.set([this.value,null])})),n.addEventListener("change",(function(){e.noUiSlider.set([null,this.value])})))})),window.addEventListener("click",(function(t){if(t.target.closest("[data-range]")){var e=document.querySelectorAll("[data-range-input-block]"),a=t.target.closest("[data-range-input-block]");a&&(e.forEach((function(t){t.classList.remove("active")})),a.querySelector("input").focus(),a.classList.add("active"))}else document.querySelector("[data-range-input-block].active")&&document.querySelector("[data-range-input-block].active").classList.remove("active")})))}a(5638)((function(){C()})),document.addEventListener("DOMContentLoaded",(function(){C()}));var j=a(5440),T=a(5638);function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(Object(a),!0).forEach((function(e){H(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function H(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var M=1024;T(window).on("load",(function(){var t=T("[data-slider-id]");0!==t.length&&t.each((function(){var t=T(this),e=t.data("slider-id"),a=t.find(".swiper-slide"),n=t.data("slider-min"),o={slidesPerView:"auto",spaceBetween:8,loop:!0,breakpoints:H({},M,{spaceBetween:12})};switch(e){case 10:o={pagination:{el:".swiper-pagination"},breakpoints:H({},M,{pagination:!1})};break;case 2:o=D(D({},o),{},{breakpoints:H({},M,{slidesPerView:2})});break;case 1:o=D({},o)}var r=t.data("slider-prev"),i=t.data("slider-next"),c=T('[data-slider-button="'.concat(r,'"]')),l=T('[data-slider-button="'.concat(i,'"]'));if(n>=a.length)c.closest("[data-slider-buttons]").addClass("hidden");else{var d=new j.Z(t[0],o);c.on("click",(function(){d.slidePrev()})),l.on("click",(function(){d.slideNext()}))}}))}));a(9490);var I=a(5638);function F(t,e){var a=t.term;if(""===I.trim(t.term))return e;if(void 0===e.text)return null;if(!a.match(/^[а-яё]/i))return e;var n=new RegExp("^".concat(a),"i");return e.text.match(n)?e:null}function R(){I(".select__select").each((function(){var t=I(this),e=t.closest(".select-wrapper"),a=getComputedStyle(e[0]),n=t.data("select-placeholder"),o=t.is("[data-select-search]");"static"===a.position&&e.css("position","relative");var r={dropdownParent:e,selectOnClose:!0,placeholder:n,language:{noResults:function(){return"Подходящих городов нет"}}};o?r.matcher=F:r.minimumResultsForSearch=1/0,t.select2(r),t.on("select2:open",(function(a){e.css("z-index","100000");var n=e.find(".select2-dropdown");if(n.addClass("open"),o){var r=n.find(".select2-search__field"),c=t.data("select-search");r.val(""),r.attr("placeholder",c)}t.on("select2:closing",i)}));var i=function(a){a.preventDefault(),e.css("pointer-events","none"),t.off("select2:closing"),e.find(".select2-dropdown").removeClass("open");var n=e.find(".select2");n.addClass("closing"),n.removeClass("select2-container--open"),setTimeout((function(){e.css("pointer-events",""),n.addClass("select2-container--open"),setTimeout((function(){t.select2("close")}))}),400)}}))}I((function(){R()}));a(1044),a(9135);function U(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var N=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.select=this.root.querySelector("[data-select-select]"),this.options=this.select.options,this.selected=this.root.querySelector("[data-select-selected]"),this.list=this.root.querySelector("[data-select-list]"),this.dropdown=this.root.querySelector("[data-select-dropdown]"),this.initSelect(),this.clickHandler()}var e,a,n;return e=t,(a=[{key:"initSelect",value:function(){this.selected.textContent=this.options[0].textContent,this.renderOptions()}},{key:"clickHandler",value:function(){var t=this;window.addEventListener("click",(function(e){var a=e.target;if(a.closest("[data-select-button]"))if(t.root.classList.contains("active"))t.root.classList.remove("active"),t.dropdown.style.maxHeight="0";else{var n=t.list.offsetHeight;t.root.classList.add("active"),t.dropdown.style.maxHeight="".concat(n,"px")}if(a.closest("[data-select-option]")){var o=a.textContent;t.selected.textContent=o,t.root.classList.remove("active"),t.dropdown.style.maxHeight="0",t.select.value=o,t.select.dispatchEvent(new Event("change")),t.dropdown.addEventListener("transitionend",(function(){t.list.innerHTML="",t.renderOptions()}),{once:!0})}t.root.classList.contains("active")&&(a.closest(".custom-select")||(t.root.classList.remove("active"),t.dropdown.style.maxHeight="0"))}))}},{key:"renderOptions",value:function(){for(var t=0;t<this.options.length;t++)if(this.selected.textContent!==this.options[t].textContent){var e=document.createElement("li");e.classList.add("custom-select__item"),e.setAttribute("data-select-option",""),e.textContent=this.options[t].textContent,this.list.append(e)}}}])&&U(e.prototype,a),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-select]");t.length&&t.forEach((function(t){new N(t)}))}));var B=a(5638);function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){W(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function W(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Q(t,e){e&&t.geoObjects.removeAll();var a=ymaps.templateLayoutFactory.createClass('<div class="balloon__content balloon__content_cluster">$[properties.balloon]</div>'),n=new ymaps.Clusterer({clusterIconLayout:ymaps.templateLayoutFactory.createClass('<div class="cluster">{{ properties.geoObjects.length }}</div>'),clusterBalloonItemContentLayout:a,clusterBalloonContentLayout:"cluster#balloonCarousel",hideIconOnBalloonOpen:!1,clusterIconShape:{type:"Rectangle",coordinates:[[0,0],[50,50]]}});n.events.add(["balloonopen"],(function(t){n.getClusters()[0].getGeoObjects().forEach((function(t){var e=t.properties._data,a=document.createElement("div");a.innerHTML=e.balloon;var n=a.querySelector(".buy-page__title").textContent;document.querySelectorAll("[data-placemark]").forEach((function(t){t.querySelector(".buy-page__title").textContent===n&&t.classList.add("active")}))}))})),n.events.add(["balloonclose"],(function(t){document.querySelectorAll("[data-placemark].active").forEach((function(t){t.classList.remove("active")}))}));var o=ymaps.templateLayoutFactory.createClass(['<div class="balloon">','<div class="balloon__content">',"$[properties.balloon]","</div>",'<div class="balloon__close"></div>','<div class="balloon__arrow"></div>',"</div>"].join(""),{build:function(){this.constructor.superclass.build.call(this),this._$element=B(".balloon",this.getParentElement()),this._$element.find(".balloon__close").bind("click",this.onCloseClick),this.applyElementOffset()},onSublayoutSizeChange:function(){o.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2,top:-(this._$element[0].offsetHeight+38+4)})},getShape:function(){if(!this._isElement(this._$element))return o.superclass.getShape.call(this);var t=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[t.left,t.top],[t.left+this._$element[0].offsetWidth,t.top+this._$element[0].offsetHeight]]))},onCloseClick:function(){t.balloon.close()},_isElement:function(t){return t&&t[0]}}),r=[],c=[],l=B("[data-placemarks]"),d=B("[data-placemark]");B("[data-placemark]").each((function(){c.push(ymaps.geocode(B(this).data("placemark").trim()))})),Promise.all(c).then((function(e){e.forEach((function(e,a){var c=d.eq(a).html(),s=d.eq(a).data("store-type"),u=d.eq(a).data("placemark-exposition");if(u){var f=function(t){var e=B(document.createElement("div")),a=[];t.forEach((function(t){var e='<a href="'.concat(t.link,'" target="_blank" class="buy-page__exposition-item">').concat(t.name,"</a>");a.push(e)}));var n=['<div class="buy-page__exposition">','<div class="buy-page__exposition-container">','<div class="buy-page__exposition-title">',"Экспозиция","</div>",'<div class="buy-page__exposition-list">',"".concat(a.join("")),"</div>","</div>","</div>"].join("");return e.html(n),e.html()}(u);c+=f}var p=e.geoObjects.get(0).geometry.getCoordinates(),m=new ymaps.Placemark(p,{balloon:c},{iconLayout:"default#image",iconImageHref:"".concat(window.CONFIG.path,"/assets/images/svg/placemark-").concat(s,".svg"),iconImageSize:[38,38],iconImageOffset:[-19,-19],balloonLayout:o,balloonPanelMaxMapArea:0,hideIconOnBalloonOpen:!1});m.events.add(["click"],(function(){if(i.matches){var t=d.eq(a)[0].offsetTop;l.scrollTop(t+1)}else{var e=document.querySelector("[data-placemark-modal]");e.querySelector("[data-placemark-container]").innerHTML=c;var n=G(G({},v),{},{animationEffect:"right"});B.fancybox.defaults=G(G({},B.fancybox.defaults),n),B.fancybox.open(B(e))}})),m.events.add(["balloonopen"],(function(){d.eq(a).addClass("active")})),m.events.add(["balloonclose"],(function(){d.eq(a).removeClass("active")})),i.matches&&d.eq(a).on("click",(function(){m.getParent()||t.setCenter(p,16);try{m.balloon.open()}catch(t){var e=function(t,e){for(var a,n=e.getClusters(),o=0;o<n.length;o++)for(var r=n[o].getGeoObjects(),i=0;i<r.length;i++)if(r[i]===t){a=n[o];break}return a}(m,n);n.balloon.open(e)}})),r.push(m)})),n.add(r),t.geoObjects.add(n),t.setBounds(n.getBounds(),{zoomMargin:Math.max(38,38)}).then((function(){1===r.length&&t.setZoom(15)}))}))}B((function(){if(B("#map").length){try{ymaps.ready((function(){var t=B("#map").data("map-center").split(" "),e=new ymaps.Map("map",{center:t,zoom:15,controls:[]},{maxZoom:22});i.matches||e.behaviors.disable("drag"),Q(e),e.events.add("click",(function(){e.balloon.isOpen()&&e.balloon.close()})),B("#map")[0].YMap=e}))}catch(t){console.error(t)}var t=document.querySelector("[data-partners-btn]"),e=document.querySelector("[data-partners-select]").querySelector(".select2-selection__placeholder");t.onclick=function(){var t=this.closest("[data-fancy-modal]"),a=t.querySelectorAll("[data-partners-item]"),n=[];a.forEach((function(t){if(t.querySelector("[data-partners-checkbox]").checked){var e=t.querySelector("[data-partners-type]").textContent;n.push(e)}}));var o=n.length?n.join(", "):"тип партнера";e.textContent=o,B.fancybox.close(B(t))}}}));var $=a(1597);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-gallery]");if(t.length){var e,a;c.matches?(e=450,a=634):(e=.6*window.innerWidth,a=.8*window.innerHeight);var n=[];t.forEach((function(t){var o=t.querySelector("img");n.push({src:o.src,type:"image",width:e,height:a})})),window.addEventListener("click",(function(t){var e=t.target.closest("[data-gallery]");if(e){var a=e.dataset.gallery;$.KR.show(n,{startIndex:a})}}))}})),document.addEventListener("DOMContentLoaded",(function(){var t,e,a=document.querySelectorAll("[data-fancybox-video]");a.length&&(i.matches?(t=.71*window.innerWidth,e=.7*window.innerHeight):t=window.innerWidth-30,a.forEach((function(a){var n=a.getAttribute("data-fancybox-video");a.addEventListener("click",(function(){$.KR.show([{src:n,type:"video",width:t,height:e}],{mainClass:"video-modal"})}))})))}));var Z=a(5638);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".cities-modal");if(t&&!i.matches){var e=t.querySelector("[data-cities-input]"),a=t.querySelectorAll("[data-cities-item]");e.addEventListener("input",(function(){var t=new RegExp("^".concat(this.value),"i");a.forEach((function(e){e.textContent.match(t)?e.classList.remove("hidden"):e.classList.add("hidden")}))}));var n=document.querySelector('[data-fancy-button="cities"]').querySelector(".select__select");a.forEach((function(e){e.addEventListener("click",(function(){var e=this.getAttribute("data-cities-item");Z(n).val(e).trigger("change"),Z.fancybox.close(t)}))}))}}));var V=a(5566),Y=a.n(V);function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function X(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(Object(a),!0).forEach((function(e){J(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function J(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function tt(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.options=X({start:1,end:1/0,offset:1,speed:2},a),this.scrollHandler()}var e,a,n;return e=t,a=[{key:"scrollHandler",value:function(){var t=this;window.addEventListener("scroll",(function(){t.update()}))}},{key:"getParallax",value:function(t){return t/10*this.options.speed}},{key:"setParallax",value:function(t){var e=this;requestAnimationFrame((function(){e.root.style.transform="translateY(".concat(t,"px)")}))}},{key:"update",value:function(){var t=window.scrollY;if(t>this.options.start&&t<this.options.end){var e=t-this.options.start+this.options.offset;this.setParallax(this.getParallax(e))}}},{key:"updateOptions",value:function(t){this.options=X(X({},this.options),t)}},{key:"onResize",value:function(t){var e=document.body;new MutationObserver(t).observe(e,{attributes:!0,childList:!0,subtree:!0})}}],a&&tt(e.prototype,a),n&&tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),at=a(3412),nt=a(7371),ot=a(7369),rt=a(6383);a(4109);(0,rt.ScrollMagicPluginGsap)(at,nt.Q3,ot.b_),nt.Q3.defaultOverwrite=!1;function it(t,e,a,n,o){for(var r=0;r<e.length;r++)o[r]=new at.Scene({triggerElement:t,duration:n.offsetHeight,offset:(i='[data-color-block="'.concat(r,'"]'),document.documentElement.clientHeight-document.querySelector(i).getBoundingClientRect().bottom),triggerHook:1}).setClassToggle('[data-color-block="'.concat(r,'"]'),"dark").addTo(a);var i}var ct=function(){var t;!function(){var t=document.querySelector("[data-scroll-about]");if(t){var e=t.querySelectorAll("[data-scroll-section]"),a=e[0].offsetHeight/2,n=new at.Controller({refreshInterval:1}),o={};i.matches?(o.scale=1.65,o.top="48%"):(o.scale=1.33,o.top="36%");var r=document.querySelector("[data-scroll-first]");if(r){var c=window.innerHeight-r.offsetHeight,l=new ot.b_,d=r.querySelector("[data-scroll-wrapper]");i.matches&&l.add(nt.Q3.fromTo(d,1,{y:"0%"},{y:"25%",ease:"linear",immediateRender:!1})),l.add(nt.Q3.fromTo(r.querySelector("[data-scroll-overlay]"),1,{opacity:"0"},{opacity:"0.2",immediateRender:!1}),0);var s=new at.Scene({triggerElement:t,duration:a,triggerHook:1,offset:c}).setTween(l).addTo(n),u=new ot.b_;u.add(nt.Q3.fromTo(r.querySelector("[data-scroll-overlay]"),{opacity:"0.2"},{opacity:"0.5",ease:"linear",immediateRender:!1}),0),new at.Scene({triggerElement:t,duration:a,triggerHook:.5,offset:c}).setClassToggle(d,"fixed").setTween(u).addTo(n),i.matches||s.setClassToggle(d,"fixed")}e.forEach((function(t,r){var c=t.querySelectorAll("[data-scroll-stone]"),l=t.querySelector("[data-scroll-list]"),d=t.querySelectorAll("[data-scroll-opacity]"),s=t.querySelector("[data-scroll-scale]"),u=new ot.b_;if(r){var f=e[r-1].querySelector("[data-scroll-overlay]"),p=new ot.b_,m=e[r-1].querySelector("[data-scroll-wrapper]");p.add(nt.Q3.fromTo(f,1,{opacity:"0"},{opacity:"0.5",ease:"linear",immediateRender:!1}),0),new at.Scene({triggerElement:t,duration:window.innerHeight,triggerHook:1}).setClassToggle(m,"fixed").setTween(p).addTo(n)}var v=new ot.b_;c.forEach((function(t,e){var a;a=i.matches?t.dataset.scrollStone.split(","):t.dataset.scrollMobile.split(","),v.add(nt.Q3.fromTo(t,1,{bottom:"0%",rotate:"0deg"},{bottom:"".concat(a[0],"%"),rotate:"15deg",immediateRender:!1}),0),u.add(nt.Q3.fromTo(t,1,{bottom:"".concat(a[0],"%"),rotate:"15deg"},{bottom:"".concat(a[1],"%"),rotate:"30deg",immediateRender:!1}),0),u.add(nt.Q3.fromTo(t,1,{bottom:"".concat(a[1],"%"),rotate:"30deg"},{bottom:"".concat(a[2],"%"),rotate:"45deg",immediateRender:!1}),">")})),new at.Scene({triggerElement:t,duration:a,triggerHook:.5}).setTween(v).addTo(n),u.add(nt.Q3.fromTo(d,1,{opacity:1},{opacity:0,immediateRender:!1}),"<"),u.add(nt.Q3.fromTo(s,1,{scale:1},{scale:o.scale,immediateRender:!1}),"<"),u.add(nt.Q3.to(l,.5,{top:o.top}),"<0.5"),u.add(nt.Q3.to(c,1,{bottom:"110%"}),"<"),new at.Scene({triggerElement:t,duration:2*a,triggerHook:0}).setPin(t).setTween(u).addTo(n)}))}}(),t=document.querySelectorAll("[data-product-section]"),i.matches&&t.length&&t.forEach((function(t){var e=t.querySelector("[data-small-slider]"),a=t.querySelector("[data-product-overlay]"),n=new at.Controller({refreshInterval:1}),o=new ot.b_;o.add(nt.Q3.to(e,1,{top:"13%",ease:"linear"})),o.add(nt.Q3.fromTo(a,1,{opacity:"0"},{opacity:"0.2",ease:"linear"}),0),new at.Scene({triggerElement:t,duration:window.innerHeight,triggerHook:0,offset:-32}).setTween(o).setPin(t).addTo(n)})),i.matches&&document.querySelectorAll("[data-parallax]").forEach((function(t){var e=t.getBoundingClientRect().top-window.innerHeight,a=t.getBoundingClientRect().top+t.offsetHeight;new et(t,{start:e,end:a})})),function(){var t=document.querySelector("#white-sec"),e=document.querySelector("#white-sec-mob");if(t||e){var a=new at.Controller,n=document.querySelectorAll("[data-color-block]");if(n.forEach((function(t,e){t.setAttribute("data-color-block","".concat(e))})),i.matches&&t){var o=[];it("#white-sec",n,a,t,o),window.addEventListener("resize",(function(){o.forEach((function(t){t.destroy()})),setTimeout((function(){it("#white-sec",n,a,t,o)}),500)}));var r=!0;window.addEventListener("paginationTrigger",(function(){r&&(r=!1,o.forEach((function(t){t.destroy()})),setTimeout((function(){it("#white-sec",n,a,t,o),r=!0}),500))}))}}}(),Y().init({once:!0,offset:0,duration:500})};window.addEventListener("load",(function(){document.body.classList.remove("body--notransition");var t=document.querySelector(".first-screen"),e=document.querySelector(".preloader");if(t){var a=document.querySelector(".main-slider");e?(document.body.classList.add("body--hidden"),e.classList.add("preloader--hidden"),a.classList.remove("main-slider--zoom-out"),setTimeout((function(){document.body.classList.remove("body--hidden"),window.scrollTo(0,0),a.querySelector(".swiper-slide-active").classList.remove("text-out")}),1100),setTimeout((function(){ct()}),1700)):(a.classList.remove("main-slider--zoom-out"),a.classList.add("main-slider--no-transition"),a.querySelector(".swiper-slide-active").classList.remove("text-out"),ct())}else ct()}));a(3053);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-blur-section]");t&&i.matches&&window.addEventListener("scroll",(function(){var e=this.scrollY,a=e/this.innerHeight*12;e>this.innerHeight?t.style.backdropFilter="blur(12px)":e<this.innerHeight&&(t.style.backdropFilter="blur(".concat(a,"px)"))}))}));a(2972);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-hover]");if(t)if(i.matches){var e=null;t.addEventListener("mouseover",(function(t){if(!e){var a=t.target.closest("[data-hover-container]");if(a){var n=a.querySelector("[data-hover-img]");n&&(n.classList.add("active"),e=a)}}})),t.addEventListener("mouseout",(function(t){e&&(t.relatedTarget.closest("[data-hover-container]")||(e.querySelector("[data-hover-img]").classList.remove("active"),e=null))}))}else{var a=document.querySelectorAll("[data-catalog-card]");a.forEach((function(t){var e=t.getAttribute("href");t.onclick=function(a){a.preventDefault();var n=t.querySelectorAll("[data-hover-img]");if(n.length){for(var o=function(t){setTimeout((function(){n[t].classList.add("active")}),1300*t)},r=0;r<n.length;r++)o(r);n[n.length-1].addEventListener("transitionend",(function(){window.location.assign(e)}))}else window.location.assign(e)}}))}}));var lt=a(5638),dt=new Intl.NumberFormat("ru-RU",{maximumSignificantDigits:10}),st={};function ut(){lt(document).ready((function(){lt("[data-order]").length>0&&(pt(),ft(),mt())})),lt(document).on("click","[data-option-add]",(function(){var t=lt(this).closest("[data-option]"),e=t.find("[data-option-delete]").parent(),a=t.find("[data-option-add]");t.data("option")&&lt("[data-option=".concat(t.data("option"),"]")).each((function(t,e){var a=lt(e).find("[data-option-delete]").parent();lt(e).find("[data-option-add]").css("display",""),a.css("display","none"),lt(e).removeClass("active")})),a.css("display","none"),e.css("display",""),t.addClass("active"),pt(),ft()})),lt(document).on("click","[data-option-delete]",(function(){var t=lt(this).closest("[data-option]"),e=t.find("[data-option-delete]").parent();t.find("[data-option-add]").css("display",""),e.css("display","none"),t.removeClass("active"),pt(),ft()})),lt(document).on("click","[data-product-tab]",(function(){pt(),ft(),mt()})),lt(document).on("click","[data-fancy-button=dop-options]",(function(t){!function(t){if(null===t){return void lt("[data-option]").each((function(t,e){lt(e).css("display","")}))}var e=t.closest("[data-options-list-material]").data("options-list-material"),a=t.data("show-tab");lt("[data-option-list=".concat(e,"]")).find("[data-option]").each((function(t,e){if(!a)return lt(e).css("display",""),!0;lt(e).data("option")===a||"options"===a&&""===lt(e).data("option")?lt(e).css("display",""):lt(e).css("display","none")}))}("SPAN"===t.target.nodeName?lt(t.target).closest("[data-show-tab]"):t.target.hasAttribute("data-show-tab")?lt(t.target):null)}))}function ft(){var t={order:lt("[data-order=main]"),color:lt("[data-order=color]"),new_rows:lt("[data-order=new-rows]"),dop_options:lt("[data-order=dop-options]"),dop_options_container:lt("[data-order=dop-options-container]"),dop_options_list:lt("[data-options-list]"),material:lt("[data-ttl-order=materials]"),coating:lt("[data-ttl-order=coating]"),coating_price:lt("[data-price-order=materials]"),front:lt("[data-ttl-order=front]"),front_price:lt("[data-price-order=front]"),side:lt("[data-ttl-order=side]"),side_price:lt("[data-price-order=side]"),artnumber:lt("[data-articule]"),total_price:lt("[data-total-price]")};t.new_rows.text(""),t.dop_options.text(""),t.dop_options_list.text(""),t.artnumber.text(st.artnumber),t.material.text(st.material_order),t.coating.text(st.coating),t.coating_price.text(dt.format(st.coating_price)),t.front.text(st.front.value),t.front_price.text(st.front.price),t.side.text(st.side.value),t.side_price.text(st.side.price),t.total_price.text(dt.format(st.total_price)),"default"===st.color.type?(t.color.find("[data-ttl=color]").text(st.color.title),t.color.find("[data-price-order=color]").text("0"),t.color.find("[data-color-row]").addClass("display-none")):(t.color.find("[data-ttl=color]").text(st.color.type),t.color.find("[data-ttl=color-ral]").text(st.color.title),t.color.find("[data-price-order=color]").text(dt.format(st.color.price)),t.color.find("[data-color-row]").removeClass("display-none")),st.additional.forEach((function(e){if(!0===e.row){var a=lt(document.querySelector("template#new-row").innerHTML);a.find("[data-ttl]").text(e.title),a.find("[data-sub-ttl]").text(e.value),a.find("[data-price-order]").text(e.price),t.new_rows.append(a)}else{var n=lt(document.querySelector("template#option-order").innerHTML);n.find("[data-ttl]").text(e.title),n.find("[data-price]").text(e.price),t.dop_options.append(n)}var o=lt(document.querySelector("template#option").innerHTML);o.find("[data-ttl]").text(e.title),o.find("[data-price]").text(e.price),t.dop_options_list.append(o)})),st.additional_select.forEach((function(e){var a=lt(document.querySelector("template#option").innerHTML);a.find("[data-ttl]").text(st[e].title),a.find("[data-price]").text(st[e].price),t.dop_options_list.append(a)})),t.dop_options_list.text().trim()?t.dop_options_list.closest("[data-options-list-bg]").addClass("active"):t.dop_options_list.closest("[data-options-list-bg]").removeClass("active"),t.dop_options.text().trim()?t.dop_options_container.css("display",""):t.dop_options_container.css("display","none"),lt("[data-option-list]").each((function(t,e){lt(e).data("option-list")!==st.material?lt(e).css("display","none"):lt(e).css("display","")})),lt("[data-option]").each((function(t,e){var a=lt(e).find("[data-price-change]"),n=lt(e).find("[data-price]");if(!a||!a.text().trim())return!0;st.price_change?(a.css("display",""),n.css("display","none")):(a.css("display","none"),n.css("display",""))})),lt("[data-options-list-material]").each((function(t,e){lt(e).data("options-list-material")===st.material?lt(e).css("display",""):lt(e).css("display","none")}))}function pt(){var t=lt(".active[data-material-tab]").data("material-tab"),e=lt(".active[data-options-content]").find(".active[data-color-content]"),a={material:lt(".active[data-material-tab]"),coating:lt(".active[data-coating-tab][data-material=".concat(t,"]")),color:e.find(".active[data-material=".concat(t,"]")).find(".active[data-color-tab]"),color_type:e.find("[data-tab-panel=colors]").find(".active[data-color-tab]"),options:lt("[data-option-list=".concat(t,"]")).find(".active[data-option]")};(st={material:t,material_order:a.material.find("span").data("opt-ttl"),coating:a.coating.data("coating-tab"),coating_price:a.coating.data("base-price"),front:{default:!0,value:"Нет",price:"0"},side:{default:!0,value:"Нет",price:"0"},color:{title:a.color.data("opt-ttl"),type:a.color[0].hasAttribute("data-default-color")?"default":a.color_type.data("color-tab"),price:a.color[0].hasAttribute("data-default-color")?0:a.color_type.data("color-price")},additional:[],additional_select:[],total_price:0,dop_art:!1,price_change:!1}).price_change="default"!==st.color.type,a.options.each((function(t,e){var a=lt(e),n=a.find("[data-price]").text(),o=lt(e).data("option");"front"===o||"side"===o?(st[o]={title:a.find("[data-ttl]").text(),value:a.data("select"),price:st.price_change&&a.find("[data-price-change]").text()?a.find("[data-price-change]").text():a.find("[data-price]").text(),row:a[0].hasAttribute("data-option-row")},st.additional_select[t]=o,st.total_price+=parseInt(st[o].price.replace(/ /g,""))):st.additional[t]={title:a.find("[data-ttl]").text(),value:a.data("select"),price:a.find("[data-price]").text(),row:a[0].hasAttribute("data-option-row")},st.dop_art=a[0].hasAttribute("data-option-articule"),st.total_price+=parseInt(n.replace(/ /g,""))})),"default"===st.color.type?st.artnumber=!0===st.dop_art?a.color.data("dop-articule"):a.color.data("articule-tab"):st.artnumber=!0===st.dop_art?a.color_type.data("dop-articule"):a.color_type.data("articule-tab"),st.total_price+=parseInt(st.coating_price)+parseInt(st.color.price)}function mt(){var t=lt(".active[data-options-content]").find(".active[data-color-content]").find("[data-tab-panel=colors]"),e=t.find(".active[data-color-tab]").data("color-price");t.find(":not(.active)[data-color-tab]").each((function(t,a){var n=lt(a).data("color-price"),o=n-e>0?"+"+dt.format(n-e):dt.format(n-e);lt(a).find(".opt-price-diff").text(o)}))}var vt=a(5638);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function yt(t,e){t.each((function(t,a){var n=vt(a),o=n.data("fetch-response"),r=vt(e).filter("[data-fetch-response=".concat(o,"]"));r.length||(r=vt(e).find("[data-fetch-response=".concat(o,"]"))),n.empty(),n.append(r.children())}))}function gt(t,e){var a=t,n=a.parents("[data-container=filters]"),o=a.parents("[data-container=filter]"),r=o.data("filter-field"),i=vt("[data-fetch-response]").filter((function(t,e){return vt(e).data("fetch-response")!==n.data("fetch-response")}));window.filters.getData[o.data("get-type")](r,e),vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){yt(i,t),R(),window.filters.fetchCallable[n.data("fetch-callable")](a,t)}})}function bt(){vt(document).ready((function(){var t=[];vt(document).find("[data-type=snippet-img-hide]").each((function(){t.push(vt(this).html())})),vt(document).find("[data-type=snippet-img-show]").each((function(e){console.log(e),vt(this).html(t[e])}))}))}vt((function(){vt(document).on("click","[data-type=show_more_click]",(function(t){var e=vt(this),a=e.parents("[data-type=container]"),n=a.find("[data-type=show_more_click_block]"),o=a.find("[data-type=items-container]");console.log("show more"),n.empty(),vt.ajax({method:"GET",url:e.data("url"),data:{ajax:"pagen"},success:function(t){var e=vt(t).find("[data-type=items-container]").html(),a=vt(t).find("[data-type=show_more_click]");o.append(e),a&&n.append(a),window.dispatchEvent(new Event("resize"))},error:function(t){console.debug(t)}})})),vt("[data-type=form]").on("submit",(function(t){t.preventDefault();var e=vt(this),a=e.attr("data-url"),n=!!e.find("[data-type=get-field-file]").length&&e.find("[data-type=get-field-file]"),o=!n&&"application/x-www-form-urlencoded; charset=UTF-8",r=!n,i=n?new FormData:{},c=e.data("ym-id");console.log(c),ym("54015997","reachGoal",c),n&&(vt.each(n.files,(function(t,e){i.append("file[]",e)})),i.append("file",n[0].files[0])),e.find("[data-type=get-field]").each((function(t,e){var a=vt(e),o=a.val();o&&(n?i.append(a.data("field"),o):i[a.data("field")]=o)})),vt.ajax({type:"POST",url:a,dataType:"json",contentType:o,processData:r,data:i,success:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t.success?success(e):console.log(t.message)})),error:function(t){console.debug(t)}})})),vt("[data-type=input-search]").keypress((function(t){var e=vt(this).val();13==t.which&&(document.location.href="/search/?q="+e)})),vt(document).on("change","[data-type=filter-change]",(function(t){t.preventDefault(),console.log("change");var e=[],a=vt(document).find("[data-code=city]").val(),n=document.getElementById("map");vt(document).find("[data-code=type]").each((function(t,a){vt(a).is(":checked")&&(e[t]=vt(a).attr("data-value"))})),console.log(a),console.log(e),vt.ajax({method:"GET",url:window.location.href,data:{ajax:1,city:a,type:e},success:function(t){vt(document).find("[data-type=items-list]").empty(),vt(document).find("[data-type=items-list]").append(vt(t)),Q(n.YMap,!0),a&&vt(document).find("[data-code=city]").attr("data-select-placeholder",a)},error:function(t){console.debug(t)}})})),vt(document).on("change","[data-type=filter-change-catalog]",(function(t){t.preventDefault(),console.log("change catalog");var e=[],a=vt(this).attr("data-code-type"),n=vt(this).parents("body"),o=[],r=0,i=[];console.log("type block active before each - "+r),n.find("[data-type=filter-change-catalog]").each((function(t,a){var n=vt(a).attr("data-code"),o=vt(a).attr("data-code-type");if("type"==n)vt(a).is(":checked")&&(i[t]=vt(a).attr("data-value"),r=1,console.log("checked"));else{var c=vt(a).parents("[data-range]"),l=c.find("[data-range-from]").val(),d=c.find("[data-range-to]").val(),s=c.find("[data-type=hidden-min-"+o+"]").val(),u=c.find("[data-type=hidden-max-"+o+"]").val();e[n]=vt(a).val(),l==s&&d==u?c.attr("data-filter-active",0):c.attr("data-filter-active",1),0==l&&0==d&&c.attr("data-filter-active",0)}})),console.log("type block active - "+r),1==r?n.find("[data-type=range-type-block]").attr("data-filter-active",1):n.find("[data-type=range-type-block]").attr("data-filter-active",0),n.find("[data-filter-active=1]").each((function(t,e){var a=vt(e).attr("data-code-type");o[t]=a})),vt.ajax({method:"GET",url:window.location.href,data:{ajax:"pagen",type_filter:i,height_max:e.height_max,height_min:e.height_min,length_max:e.length_max,length_min:e.length_min,price_max:e.price_max,price_min:e.price_min,width_max:e.width_max,width_min:e.width_min,sort_filter:e.sort,active_code_filter_arr:o},success:function(t){var e=vt(t).find("[data-type=items-container]").html(),o=vt(t).find("[data-type=show_more_click]"),r=vt(t).find("[data-type=range-price-inner]").html(),i=vt(t).find("[data-type=range-length-inner]").html(),c=vt(t).find("[data-type=range-width-inner]").html(),l=vt(t).find("[data-type=range-height-inner]").html(),d=vt(t).find("[data-type=range-type-inner]").html();if(n.find("[data-type=items-container]").empty(),n.find("[data-type=items-container]").append(e),n.find("data-cur-filter-code").val(a),o&&(n.find("[data-type=show_more_click_block]").empty(),n.find("[data-type=show_more_click_block]").append(o)),"price"!=a){var s=n.find("[data-type=range-price-block]");0==s.attr("data-filter-active")&&(s.empty(),s.append(r))}if("length"!=a){var u=n.find("[data-type=range-length-block]");0==u.attr("data-filter-active")&&(u.empty(),u.append(i))}if("width"!=a){var f=n.find("[data-type=range-width-block]");0==f.attr("data-filter-active")&&(f.empty(),f.append(c))}if("height"!=a){var p=n.find("[data-type=range-height-block]");0==p.attr("data-filter-active")&&(p.empty(),p.append(l))}if("type"!=a){var m=n.find("[data-type=range-type-block]");0==m.attr("data-filter-active")&&(m.empty(),m.append(d))}C()},error:function(t){console.debug(t)}})})),vt(document).on("click","[data-type=modal-options]",(function(t){t.preventDefault();var e=vt(this).attr("data-name-opt"),a=vt(this).parents("body");console.log("Дополнительная опция - "+e),vt.ajax({method:"POST",url:"/local/templates/main/include/ajax/modals/options.php",data:{name:e},success:function(t){console.log(t),a.find("[data-type=modal-options-container]").empty(),a.find("[data-type=modal-options-container]").append(vt(t)),bt()},error:function(t){console.debug(t)}})})),vt("[data-type*=form-order]").on("submit",(function(t){t.preventDefault();var e=vt(this),a=e.attr("data-url"),n=e.parents("[data-type=form-containers]"),o={},r=e.data("ym-id");r&&ym("54015997","reachGoal",r),o.UF_ID_PROD=n.attr("data-id-prod"),o.UF_PROD_NAME=n.attr("data-name-prod"),o.UF_MATERIALS=n.find("[data-ttl-order=materials]").text(),o.UF_COATING=n.find("[data-ttl-order=coating]").text(),n.find("[color-mod-order=color-mod-order]").text()&&(o.UF_COLOR_MOD=n.find("[color-mod-order=color-mod-order]").text()+", "+n.find("[data-color-order=data-color-order]").text()+", цена - "+n.find("[data-price-order=color]").text()+" руб."),n.find("[data-ttl-order=drainage]").text()&&(o.UF_DRAINAGE=n.find("[data-ttl-order=drainage]").text()+", цена - "+n.find("[data-price-order=drainage]").text()+" руб."),n.find("[data-dop-id]").each((function(t,e){vt(e).text()&&(o.UF_DOP_OPTIONS?o.UF_DOP_OPTIONS=o.UF_DOP_OPTIONS+", "+vt(e).find("div.txt").text()+" - цена: "+vt(e).find("[data-price]").text()+" руб.":o.UF_DOP_OPTIONS=vt(e).find("[data-title]").text()+" - цена: "+vt(e).find("[data-price]").text()+" руб.")})),n.find("[data-price-order=dop-options]").text()&&(o.UF_DOP_OPTIONS=o.UF_DOP_OPTIONS+". Цена - "+n.find("[data-price-order=dop-options]").text()+" руб."),n.find("[data-ttl-order=dop1]").text()&&(o.UF_FORNT_PANELS=n.find("[data-ttl-order=dop1]").text()+", цена - "+n.find("[data-price-order=dop1]").text()+" руб."),n.find("[data-ttl-order=dop2]").text()&&(o.UF_SIDE_PANELS=n.find("[data-ttl-order=dop2]").text()+", цена - "+n.find("[data-price-order=dop2]").text()+" руб."),o.UF_PRICE_FULL=n.find("[data-total-price=data-total-price]").text()+" руб.",e.find("[data-type=get-field]").each((function(t,e){var a=vt(e),n=a.val();o[a.data("field")]=n})),console.log(o),vt.ajax({type:"POST",url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,data:o,success:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t.success?success(e):console.log(t.message)})),error:function(t){console.debug(t)}})})),bt(),vt(document).on("click","[data-type=filter-click]",(function(){var t=vt(this);gt(t,t.data("val"))})),vt(document).on("change","[data-type=filter]",(function(){var t=vt(this);gt(t,t.val())})),vt(document).on("click","[data-type=filter-apply]",(function(){vt(this).parents("[data-container=filters]").find("[data-container=filter]").each((function(t,e){var a=vt(e);window.filters.getData[a.data("get-type")](a)})),vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){yt(vt("[data-fetch-response]"),t)}})})),vt("[data-range-event]").each((function(t,e){var a=vt(e);e.noUiSlider.on("change",(function(t){window.filters.data.filters[a.data("field")]=t,vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){yt(vt("[data-fetch-response]"),t)}})}))})),vt(document).on("click","[data-type=filter-reset]",(function(){window.filters.data.filters={},vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){yt(vt("[data-fetch-response]"),t)}})})),vt(document).on("click","[data-type=filter-remove]",(function(){var t=vt(this).data("field");delete window.filters.data.filters[t],vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){yt(vt("[data-fetch-response]"),t)}})})),vt(document).on("change","[data-type=sort]",(function(){var t=vt(this),e=t.data("field");window.sort.data.sort[e]=t.val(),window.sort.data.filters=window.filters.data.filters,vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.sort.data,success:function(t){yt(vt("[data-fetch-response]"),t)}})})),vt(document).on("click","[data-type=change-section]",(function(t){t.preventDefault();var e=vt(this),a={id:e.data("section-id"),code:e.data("section-code")},n=e.data("container-selector"),o=vt("[data-".concat(n,"]"));e.css("pointer-events","none"),vt.ajax({type:"get",url:window.location.pathname,dataType:"html",data:a,success:function(t){o.replaceWith(vt(t)),e.css("pointer-events","auto")}})})),function(){var t=!1;function e(t,e){if("object"!==ht(window.dataLayer)||void 0===t)return 2;var a={ecommerce:{currencyCode:"RUB"}},n=[{id:e.id,name:e.name,price:e.price,brand:e.brand,category:e.category,variant:e.type,list:e.page,position:e.pos}];a.ecommerce[t]={products:n},window.dataLayer.push(a)}function a(a){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=a.data("ec-action"),r=a.data("ec-data"),i=["id","name","price","category","type","page","pos"];"salini-srl.com"===window.location.host&&(n||a.css("pointer-events","none"),!0!==t?(i.forEach((function(t){if(!(t in r))return 2})),!1===t&&(e(o,r),t=!0,a.trigger("click"))):t=!1)}vt(document).on("submit","[data-type*=ec-form]",(function(){a(vt(this),!0)})),vt(document).on("click","[data-type=ec-event]",(function(){a(vt(this))}))}(),ut()})),window.filters={data:{filters:{},ajax:"filters"},getData:{one:function(t,e){return e?(window.filters.data.filters[t]=e,!0):(delete window.filters.data.filters[t],!1)},many:function(t,e){var a;return window.filters.data.filters[t]||(window.filters.data.filters[t]={}),window.filters.data.filters[t][e]?(a=!1,delete window.filters.data.filters[t][e],Object.keys(window.filters.data.filters[t]).length||delete window.filters.data.filters[t]):(a=!0,window.filters.data.filters[t][e]=e),a},range:function(t){window.filters.data.filters[t.data("field")]=t.find("[data-range-range]")[0].noUiSlider.get()},checkbox:function(t){var e={};t.find(":checkbox:checked").each((function(t,a){console.log(vt(a));var n=vt(a).val();e[n]=n})),window.filters.data.filters[t.data("field")]=e}},fetchCallable:{initMap:function(){console.log(document.getElementById("map")),Q(document.getElementById("map").YMap,!0)}}},window.addEventListener("cloneFilter",(function(t){var e=vt(t.detail.elem).find("[data-type=filter-remove]");try{e.find("[data-type=filter-remove]").attr("data-field",JSON.parse(t.detail.field)[t.detail.index])}catch(t){e.find("[data-type=filter-remove]").attr("data-field",t.detail.field)}})),window.sort={data:{filters:{},sort:{},ajax:"sort"}},vt(document).on("change","[data-type=filter-change-test]",(function(){var t=vt(this),e=t.parents("[data-container=filter]"),a=e.data("filter-field");window.filters.getData[e.data("get-type")](a,t.val()),vt.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){yt(vt("[data-fetch-response]"),t)}})})),window.addEventListener("paginationTrigger",(function(){var t="[data-type=items-container]",e=vt(t),a="[data-type=hidden-pagen]",n=vt(a),o=n.data("url");n.length&&(n.remove(),vt.ajax({url:o,method:"get",dataType:"html",data:{ajax:"pagen"},success:function(n){e.append(vt(n).filter(t).children());var o=vt(n).filter(a);o&&e.after(o)}}))}));var wt=a(5638),St=document.querySelector("[data-type=site-templ-path]");window.CONFIG=window.location.hostname&&"cloudmill.github.io"!==window.location.hostname?{path:St?St.value:"/local/templates/main",debug:!0}:{path:"./",debug:!0},document.addEventListener("DOMContentLoaded",(function(){var t;!function(){var t=document.querySelector("#main-slider");if(t){var e=t.querySelectorAll(".swiper-slide").length,a=t.querySelector("[data-pagination]"),o=a.querySelector("[data-pagination-current]"),r=a.querySelector("[data-pagination-total]"),i="first move";new n.ZP("#main-slider",{modules:[n.W_,n.tl],loop:!0,speed:1e3,navigation:{prevEl:"#main-slider-prev",nextEl:"#main-slider-next"},on:{init:function(){r.textContent=e<10?"0".concat(e):e,this.$el.find(".swiper-slide-active").addClass("text-out")},slideChange:function(){if("first move"!==i){var t=this.realIndex+1;a.classList.add("text-out"),setTimeout((function(){o.textContent=t<10?"0".concat(t):t,a.classList.remove("text-out")}),800)}else i="inited"}}})}var c=new n.ZP("#product-slider",{modules:[n.tl],loop:l("#product-slider","product-slider"),speed:800,pagination:{el:"#product-slider-pagination",clickable:!0}});document.querySelector("#product-slider")&&(document.querySelectorAll("#product-slider-prev").forEach((function(t){t.addEventListener("click",(function(){c.slidePrev()}))})),document.querySelectorAll("#product-slider-next").forEach((function(t){t.addEventListener("click",(function(){c.slideNext()}))})));var d=new n.ZP("#product-slider2",{modules:[n.tl],loop:l("#product-slider2","product-slider2"),speed:800,pagination:{el:"#product-slider-pagination2",clickable:!0}});document.querySelector("#product-slider2")&&(document.querySelectorAll("#product-slider-prev2").forEach((function(t){t.addEventListener("click",(function(){d.slidePrev()}))})),document.querySelectorAll("#product-slider-next2").forEach((function(t){t.addEventListener("click",(function(){d.slideNext()}))}))),new n.ZP("#small-product-slider",{modules:[n.W_],loop:!0,speed:800,navigation:{prevEl:"#small-product-slider-prev",nextEl:"#small-product-slider-next"}});var s=new n.ZP("#about-slider",{modules:[n.W_],loop:l("#about-slider","about-slider"),speed:800,pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector("#about-slider")&&(document.querySelectorAll("#about-slider-prev").forEach((function(t){t.addEventListener("click",(function(){s.slidePrev()}))})),document.querySelectorAll("#about-slider-next").forEach((function(t){t.addEventListener("click",(function(){s.slideNext()}))})));var u=new n.ZP("#cards-slider",{modules:[n.W_],loop:l("#cards-slider","cards"),breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2.1,spaceBetween:10},1024:{slidesPerView:2.5,spaceBetween:12}}});document.querySelector("#cards-slider")&&(document.querySelectorAll("#cards-slider-prev").forEach((function(t){t.addEventListener("click",(function(){u.slidePrev()}))})),document.querySelectorAll("#cards-slider-next").forEach((function(t){t.addEventListener("click",(function(){u.slideNext()}))})));var f=new n.ZP("#cards-slider2",{modules:[n.W_],loop:l("#cards-slider2","cards2"),breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2.1,spaceBetween:10},1024:{slidesPerView:2.5,spaceBetween:12}}});document.querySelector("#cards-slider2")&&(document.querySelectorAll("#cards-slider-prev2").forEach((function(t){t.addEventListener("click",(function(){f.slidePrev()}))})),document.querySelectorAll("#cards-slider-next2").forEach((function(t){t.addEventListener("click",(function(){f.slideNext()}))}))),new n.ZP("#colors-slider",{modules:[n.W_],slidesPerView:8,breakpoints:{1024:{spaceBetween:4}}})}(),h("form").parsley(),Parsley.addMessages("ru",{defaultMessage:"Некорректное значение",type:{email:"Введите адрес электронной почты",url:"Введите URL адрес",number:"Введите число",integer:"Введите целое число",digits:"Введите только цифры",alphanum:"Введите буквенно-цифровое значение"},notblank:"Это поле должно быть заполнено",required:"Заполните поле",pattern:"Это значение некорректно",min:"Это значение должно быть не менее чем %s",max:"Это значение должно быть не более чем %s",range:"Это значение должно быть от %s до %s",minlength:"Это значение должно содержать не менее %s символов",maxlength:"Это значение должно содержать не более %s символов",length:"Это значение должно содержать от %s до %s символов",mincheck:"Выберите не менее %s значений",maxcheck:"Выберите не более %s значений",check:"Выберите от %s до %s значений",equalto:"Это значение должно совпадать"}),Parsley.setLocale("ru"),Parsley.addValidator("telLength",{requirementType:"number",validateString:function(t,e){return t.replace(/\D/g,"").length===e},messages:{ru:"Телефон введён не полностью"}}),document.querySelectorAll("[data-parsley-validate]").forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault();var a=g(g({},v),{},{beforeClose:function(){t.reset(),t.querySelectorAll("[data-input]").forEach((function(t){t.classList.remove("form-input--active")}))}});h.fancybox.defaults=g(g({},h.fancybox.defaults),a),h.fancybox.open(h("[data-fancy-modal=response]"))}))})),Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1}).mask("[data-phone-input]"),window.Parsley.addValidator("string",{requirementType:"string",validateString:function(t){return!/[^a-zа-яё\s]/i.test(t)},messages:{ru:"Спецсимволы и цифры запрещены"}}),(t=document.querySelectorAll("[data-popular-tabs]")).length&&t.forEach((function(t){t.addEventListener("click",(function(){t.classList.toggle("active")}))})),w("data-tab"),w("data-tab2"),w("data-tab3"),(0,x.ZP)("[data-meta-tooltip]",{content:'<div class="tooltip-small-text">*Является продуктом компании Meta, признанной экстремистской организацией, деятельность которой запрещена на территории РФ</div>',maxWidth:280,placement:"right",allowHTML:!0,trigger:_()}),d(),document.querySelector("[data-catalog-page]")&&(null!==window.sessionStorage.getItem("catalogLastPosition")&&window.scrollTo(0,Number(window.sessionStorage.getItem("catalogLastPosition"))),window.addEventListener("beforeunload",(function(){window.sessionStorage.setItem("catalogLastPosition","".concat(window.pageYOffset))})));var e=document.querySelector("[data-old-modal]"),a=document.querySelector("[data-old-modal-close]");e&&a.addEventListener("click",(function(){e.remove()})),wt("[data-sidebar-toggle]").on("click",(function(){wt("[data-sidebar-drop]").toggleClass("show"),wt("[data-sidebar-toggle]").toggleClass("active")}));var o=document.querySelectorAll("[data-color-tab]");o.length>0&&o.forEach((function(t){t.addEventListener("click",(function(t){if(t.target.closest("[data-default-color]"))t.target.closest("[data-color-content]").querySelector('[data-opts-set="colors1"]').style.display="none";else if(t.target.closest("[data-color-tab]")){t.target.closest("[data-color-content]").querySelector('[data-opts-set="colors1"]').style.display=""}}))}))})),window.addEventListener("load",(function(){!function(){if(S("[data-anchor-links]").length){var t=function(){r.length=0,S("[data-section]").each((function(){r.push({top:S(this).offset().top,a:c.filter('[data-scroll="#'+S(this).attr("id")+'"]')})})),r=r.reverse()},e=function(){for(var t=S(window).scrollTop(),e=0;e<r.length;e++)if(r[e].top-a<t+a){i!==e&&(i=e,o.removeClass("active"),r[e].a.addClass("active"));break}r[r.length-1].top-a>t+a&&(o.removeClass("active"),r[r.length-1].a.addClass("active"))},a=S(".header").height()+10,n=60,o=S("[data-page-link]"),r=[],i=null,c=o;t(),S(window).one("resize",(function e(){setTimeout((function(){t(),S(window).one("resize",e)}),1e3/n)})),e(),S(window).one("scroll",(function t(){setTimeout((function(){e(),S(window).one("scroll",t)}),1e3/n)})),S("[data-scroll]").on("click",(function(t){t.preventDefault();var e=S(this).data("scroll"),n=S(e).offset().top;S("html, body").animate({scrollTop:n-a},700)}))}}(),function(){var t=document.querySelector("[data-product-title]"),e=document.querySelector("[data-back-button-offset]");if(t&&e&&i.matches){var a=t.getBoundingClientRect().top+t.clientHeight+16;e.style.paddingTop="".concat(a,"px")}}();var t=document.querySelectorAll(".js-badger-accordion");Array.from(t).forEach((function(t){new s.Z(t)}));var e=document.querySelector("[data-about-video]");e&&(e.play(),e.setAttribute("autoplay",""))})),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-catalog-title]");if(t){var e=t.offsetWidth,a=t.querySelectorAll(".word-span"),n=window.getComputedStyle(t,null).getPropertyValue("font-size"),o=parseFloat(n);a.forEach((function(a){if(a.offsetWidth>e)for(;a.offsetWidth>e;)o-=2,t.style.fontSize=o+"px"}))}})),document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector("[data-desktop-img]")){var t=function(){i.matches?document.querySelectorAll("[data-desktop-img]").forEach((function(t){var e=t.getAttribute("data-desktop-img");t.src=e})):document.querySelectorAll("[data-mobile-img]").forEach((function(t){var e=t.getAttribute("data-mobile-img");t.src=e}))};t(),window.addEventListener("resize",(function(){t()}))}}))},9135:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-filter-selected]");if(t){var e={},a=document.querySelector("[data-filter-price]"),n=document.querySelectorAll("[data-catalog-accordion]");n.forEach((function(t){t.onclick=function(){var e=document.querySelector("[data-catalog-accordion].active");e&&e.classList.remove("active"),t.classList.toggle("active")}})),window.addEventListener("click",(function(o){var r=o.target;if(r.closest("[data-filter-accept]")){var i=r.closest("[data-filter-property]"),c=i.getAttribute("data-filter-property"),l=i.querySelectorAll("[data-filter-range]"),d=[];if(l.length)l.forEach((function(t){var e=t.getAttribute("data-filter-range").split(" "),a=t.noUiSlider.get();d.push("".concat(e[0]," ").concat(a.join(" - ")," ").concat(e[1]))}));else i.querySelectorAll("[data-filters-check]").forEach((function(t){t.checked&&d.push(t.getAttribute("data-filters-check"))}));e[c]=d;var s=a.noUiSlider.get();e.price=["".concat(s.join(" - ")," ₽")],console.log(e),function(e){var a=t.querySelector("[data-filter-template]"),n=t.querySelector("[data-filter-list]");n.innerHTML="";var o=0,r=function(t){e[t].forEach((function(e){var r=a.content.firstElementChild.cloneNode(!0),i=r.querySelector("[data-prop-text]");window.dispatchEvent(new CustomEvent("cloneFilter",{detail:{field:t,elem:r,index:o}})),i.textContent=e,n.append(r),o++}))};for(var i in e)r(i);t.classList.remove("hidden")}(e),r.closest("[data-catalog-accordion]").classList.remove("active")}if(r.closest("[data-prop-delete]")){var u=r.closest("[data-prop]"),f=u.querySelector("[data-prop-text]"),p=document.querySelector('[data-filters-check="'.concat(f.textContent,'"]'));p&&(p.checked=!1,p.dispatchEvent(new Event("change"))),u.remove()}if(r.closest("[data-filter-reset]")){var m=t.querySelector("[data-filter-list]");document.querySelectorAll("[data-filters-check]").forEach((function(t){t.checked&&(t.checked=!1)})),m.innerHTML="",e={},t.classList.add("hidden")}r.closest("[data-catalog-accordion]")||n.forEach((function(t){return t.classList.remove("active")}))}))}}))},1044:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-category]");t.length&&t.forEach((function(t){t.onclick=function(){this.classList.toggle("active")}}))}))},3053:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-input]");t.length&&t.forEach((function(t){t.oninput=function(){this.value?this.classList.add("form-input--active"):this.classList.remove("form-input--active")}}))}))},2972:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-listing-section]");t&&window.addEventListener("scroll",(function(){window.scrollY+window.innerHeight>=t.offsetHeight+t.offsetTop-200&&window.dispatchEvent(new CustomEvent("paginationTrigger"))}))}))}},a={};function n(t){var o=a[t];if(void 0!==o)return o.exports;var r=a[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,a,o,r)=>{if(!a){var i=1/0;for(s=0;s<t.length;s++){for(var[a,o,r]=t[s],c=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((t=>n.O[t](a[l])))?a.splice(l--,1):(c=!1,r<i&&(i=r));if(c){t.splice(s--,1);var d=o();void 0!==d&&(e=d)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[a,o,r]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,a)=>{var o,r,[i,c,l]=a,d=0;if(i.some((e=>0!==t[e]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(l)var s=l(n)}for(e&&e(a);d<i.length;d++)r=i[d],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(s)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var o=n.O(void 0,[394],(()=>n(4601)));o=n.O(o)})();