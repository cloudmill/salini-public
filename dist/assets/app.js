(()=>{var t,e={7798:(t,e,a)=>{"use strict";var o=a(5191),n=1024,r=768,i=window.matchMedia("(min-width: ".concat(n,"px)")),c=window.matchMedia("(min-width: ".concat(r,"px)"));function d(t,e){var a=document.querySelector(t);if(a){if(a.querySelectorAll(".swiper-slide").length>1)return!0;var o=document.querySelectorAll("[data-slider-buttons=".concat(e,"]"));if(o.length>0)return o.forEach((function(t){return t.classList.add("hidden")})),!1}}var l=function(){document.querySelectorAll("[data-drop]").forEach((function(t){var e=t.querySelector("[data-drop-btn]"),a={isOpen:!1},o="BTN_CLICK",n="CLICK_OUTSIDE";window.addEventListener("click",(function(r){!function(e){switch(e){case o:t.classList.toggle("drop--open"),a.isOpen=!a.isOpen;break;case n:t.classList.remove("drop--open"),a.isOpen=!1}}(function(t){var a=t.closest("[data-drop-btn]");return!!a&&a===e}(r.target)?o:n)}))}))},s=a(7386),u=(a(4563),a(8917),a(5638));function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h={closeExisting:!0,touch:!1,hideScrollbar:!1,autoFocus:!1,baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-stage"></div></div>',animationEffect:"zoom",animationDuration:400,afterShow:function(t,e){u(e.src).closest(".fancybox-container").addClass("open")},beforeShow:function(t,e){}};function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p({},h),a=u("[data-fancy-modal=".concat(t,"]"));u.fancybox.defaults=p(p({},u.fancybox.defaults),e),u.fancybox.open(a)}u((function(){u("[data-fancy-button]").on("click",(function(t){var e=p({},h);t.preventDefault();var a=u(this).data("fancy-button");switch(a){case"size":case"contacts":case"callback":case"popular":case"type":case"premium":case"order":case"production":case"partners":e.animationEffect="right";break;case"cities":if(i.matches)return;e.animationEffect="right";break;case"menu":e.animationEffect="top",e.baseClass="menu-layout";break;case"search":e.animationEffect="top",e.beforeShow=function(t,e){e.$slide.closest(".fancybox-container").find(".fancybox-bg").addClass("fancybox-bg_search")},e.afterShow=function(t,e){u(e.src).closest(".fancybox-container").addClass("open");var a=e.src.querySelector("input");a&&a.focus()};break;case"collections":e.animationEffect="left"}t.target.closest("[data-mirror-dop]")||v(a,e)}))}));a(3419);var g=a(5638);function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var S=function(t){var e=document.querySelectorAll("[".concat(t,"-panel]"));e.length&&e.forEach((function(e){e.addEventListener("click",(function(a){function o(a){if(a.target.closest("[data-main-tabs]")){var o=a.target.closest("[".concat(t,"]"));if(o){var n=e.querySelector(".active[".concat(t,"]")),r=e.getAttribute("".concat(t,"-panel")),i=o.getAttribute("".concat(t)),c=document.querySelectorAll("[".concat(t,"-content-container='").concat(r,"']"));n&&document.querySelectorAll("[".concat(t,"-panel='").concat(r,"']")).forEach((function(e){e.querySelector(".active[".concat(t,"]")).classList.remove("active")})),document.querySelectorAll("[".concat(t,"-panel='").concat(r,"']")).forEach((function(e){e.querySelector("[".concat(t,'="').concat(i,'"]')).classList.add("active")})),c.forEach((function(e){if(e.closest(".options-contents__item")){if(e.closest(".options-contents__item.active")){if(n){var a=n.getAttribute("".concat(t)),o=e.querySelector("[".concat(t,"-content='").concat(a,"']"));o&&o.classList.remove("active")}var r=e.querySelector("[".concat(t,"-content='").concat(i,"']"));r&&r.classList.add("active")}}else{if(n){var c=n.getAttribute("".concat(t));e.querySelector("[".concat(t,"-content='").concat(c,"']")).classList.remove("active")}e.querySelector("[".concat(t,"-content='").concat(i,"']")).classList.add("active")}}))}}else{var d=a.target.closest("[".concat(t,"]"));if(d){var l=e.querySelector(".active[".concat(t,"]")),s=e.getAttribute("".concat(t,"-panel")),u=d.getAttribute("".concat(t)),f=document.querySelectorAll("[".concat(t,"-content-container='").concat(s,"']"));a.target.closest("[data-no-default-opt]")&&d.classList.contains("active")?d.classList.remove("active"):(l&&l.classList.remove("active"),d.classList.add("active")),null==f||f.forEach((function(e){if(e.closest(".options-contents__item")){if(e.closest(".options-contents__item.active")){if(l){var a=l.getAttribute("".concat(t)),o=e.querySelector("[".concat(t,"-content='").concat(a,"']"));o&&o.classList.remove("active")}var n=e.querySelector("[".concat(t,"-content='").concat(u,"']"));n&&n.classList.add("active")}}else{if(l){var r=l.getAttribute("".concat(t)),i=e.querySelector("[".concat(t,"-content='").concat(r,"']"));null==i||i.classList.remove("active")}var c=e.querySelector("[".concat(t,"-content='").concat(u,"']"));null==c||c.classList.add("active")}}))}}}e.closest(".options-contents__item")?e.closest(".options-contents__item.active")&&o(a):o(a)}))}))},E=a(5638);var _=a(4145);a(527);function O(){return i.matches?"mouseenter focus":"click"}function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){q(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function q(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var L=new CustomEvent("upd-price");function R(){var t,e,a,o,n,r,i,c,d=document.querySelector("[data-mirror-options]");if(d){var l=function(t,e){var a=window.MIRROR_CODE,o="round"===f?e.diameter:e.width+"X"+e.height;v.classList.contains("no-dops")?t.innerText=a.static+o+a.light:t.innerText=a.static+o+a.light+a.warm+a.switch},s=function(t){var e=t.target.closest("[data-mirror-dop]"),a=e.getAttribute("data-mirror-dop");if("opt1"===e.getAttribute("data-mirror-dop")?e.classList.contains("active")?window.MIRROR_CODE.warm=0:window.MIRROR_CODE.warm=e.getAttribute("data-dop-code"):"opt2"===e.getAttribute("data-mirror-dop")&&(window.MIRROR_CODE.switch=e.getAttribute("data-dop-code"),e.classList.contains("active")?window.MIRROR_CODE.switch="":window.MIRROR_CODE.switch=e.getAttribute("data-dop-code")),window.MIRROR_ORDER.dops=window.MIRROR_ORDER.dops.filter((function(t){return t.id!==a})),!e.classList.contains("active")){var o=Number(e.getAttribute("data-mirror-dop-price"));window.MIRROR_ORDER.dops.push({id:a,value:e.getAttribute("data-mirror-dop-value"),price:o})}e.hasAttribute("data-tab")?e.classList.contains("active")&&setTimeout((function(){e.classList.remove("active")})):e.classList.toggle("active"),window.dispatchEvent(L)},u=function(t){return Number(t).toLocaleString("ru-RU")},f=d.getAttribute("data-mirror-orientation"),p=document.querySelectorAll("[data-total-price]"),m=document.querySelectorAll("[data-mirror-size]"),h=document.querySelector("[data-custom-size-button]"),v=document.querySelector("[data-dop-show]"),g=document.querySelectorAll("[data-dop-show-item]"),y=document.querySelectorAll("[data-mirror-light]"),w=document.querySelectorAll("[data-mirror-dop]");window.addEventListener("upd-price",(function(){setTimeout((function(){var t,e,a,o,n,r,i;e=window.MIRROR_PRICE,a=window.MIRROR_ORDER.dops,o=document.querySelector("[data-mirror-size].active"),n=document.querySelector("[data-custom-size-button].active"),r=document.querySelector("[data-articule]"),i=0,a.forEach((function(t){return i+=t.price})),t=o&&o.hasAttribute("data-opt-price")?e.fixedPrice:"round"===f?e.diameter*e.diameter*e.orient/1e6:e.width*e.height*e.orient/1e6,window.MIRROR_ORDER.size.price=t,p.forEach((function(e){e.innerText=u(t+i)})),o?r.innerText=o.getAttribute("data-articule-tab"):n&&l(r,e),function(){var t=window.MIRROR_ORDER,e=document.querySelector("[data-order-mirror-size]"),a=document.querySelector("[data-order-mirror-size-price]"),o=document.querySelector("[data-order-mirror-light]"),n=document.querySelector("[data-order-mirror-light-price]");e.innerText=t.size.value,a.innerText=u(t.size.price),o.innerText=t.light.value,n.innerText=u(t.light.price);var r=document.querySelector("[data-dop-options-order-row]"),i=document.querySelector("[data-dop-show]"),c=document.querySelector("[data-dop-list-page]");if(0===t.dops.length)r.style.display="none",i.classList.remove("active");else{r.style.display="",i.classList.add("active");var d=document.querySelector("[data-dop-options-order]");d.innerHTML="",c.innerHTML="";var l="",s="";t.dops.forEach((function(t){l+='<div class="space-between">\n              <div class="txt">'.concat(t.value,'</div>\n              <div class="order-modal-info__num">\n                +<span data-price="">').concat(u(t.price),'</span>\n                <span class="rouble">a</span>\n              </div>\n            </div>'),s+="<li>\n              <div>".concat(t.value,'</div>\n\t\t\t\t\t\t\t<div class="bold">+').concat(u(t.price),' ₽</div>\n              <button data-mirror-dop="').concat(t.id,'" class="delete active">\n                <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path d="M17.7303 10.4644L15.2469 12.9479M13.1428 15.052L10.6593 17.5355M17.8681 17.6732L15.2878 15.093M13.1018 12.9069L10.5215 10.3267" stroke="#02343B" stroke-width="1.5" stroke-linecap="square"></path>\n\t\t\t\t\t\t\t\t</svg>\n              </button>\n\t\t\t\t\t\t</li>')})),d.insertAdjacentHTML("afterbegin",l),c.insertAdjacentHTML("afterbegin",s)}}()}))})),t=document.querySelector("[data-mirror-size].active"),e=document.querySelector("[data-mirror-light].active"),a=Number(t.getAttribute("data-opt-price")),o=Number(d.getAttribute("data-mirror-orientation-price")),n=Number(t.getAttribute("data-mirror-with")),r=Number(t.getAttribute("data-mirror-height")),i=Number(t.getAttribute("data-mirror-diameter")),c={fixedPrice:0,orient:o},window.MIRROR_PRICE=k(k({},c),{},"round"===f?{diameter:0}:{width:0,height:0}),window.MIRROR_ORDER={size:{value:t.innerText,price:u(a)},light:{value:e.getAttribute("data-mirror-light"),price:0},dops:[]},window.MIRROR_CODE={static:"round"===f?"27M2":"27M1",light:0,warm:0,switch:""},setTimeout((function(){window.MIRROR_PRICE.fixedPrice=a,"round"===f?window.MIRROR_PRICE.diameter=i:(window.MIRROR_PRICE.width=n,window.MIRROR_PRICE.height=r),window.dispatchEvent(L)})),m.length&&m.forEach((function(t){t.addEventListener("click",(function(t){return function(t){var e=t.target.closest("[data-mirror-size]"),a=Number(e.getAttribute("data-opt-price"));window.MIRROR_ORDER.size.value=e.innerText,window.MIRROR_ORDER.size.price=a,window.MIRROR_PRICE.fixedPrice=a,"round"===f?window.MIRROR_PRICE.diameter=Number(e.getAttribute("data-mirror-diameter")):(window.MIRROR_PRICE.width=Number(e.getAttribute("data-mirror-with")),window.MIRROR_PRICE.height=Number(e.getAttribute("data-mirror-height"))),window.dispatchEvent(L)}(t)}))})),y.length&&y.forEach((function(t){t.addEventListener("click",(function(){window.MIRROR_ORDER.light.value=t.getAttribute("data-mirror-light"),t.hasAttribute("data-mirror-nolight")?window.MIRROR_CODE.light=0:window.MIRROR_CODE.light="B",window.dispatchEvent(L)}))})),w.length&&w.forEach((function(t){t.addEventListener("click",(function(t){return s(t)}))})),null==h||h.addEventListener("click",(function(){return t=document.querySelector("[data-custom-with-input]"),e=document.querySelector("[data-custom-height-input]"),a=document.querySelector("[data-custom-diameter-input]"),window.MIRROR_ORDER.size.value="Свой размер",t&&e&&(window.MIRROR_PRICE.width=Number(t.value.replace(/[^0-9]/g,"")),window.MIRROR_PRICE.height=Number(e.value.replace(/[^0-9]/g,""))),a&&(window.MIRROR_PRICE.diameter=Number(a.value.replace(/[^0-9]/g,""))),void window.dispatchEvent(L);var t,e,a})),null==v||v.addEventListener("click",(function(t){if(t.target.closest("[data-mirror-dop]")){s(t);var e=t.target.closest("[data-mirror-dop]").getAttribute("data-mirror-dop");document.querySelectorAll('[data-mirror-dop="'.concat(e,'"]')).forEach((function(t){return t.classList.remove("active")}))}else if(t.target.closest("[data-dop-show-only]")){var a,o=null===(a=t.target.closest("[data-dop-show-only]"))||void 0===a?void 0:a.getAttribute("data-dop-show-only");g.forEach((function(t){t.getAttribute("data-dop-show-item")===o?t.style.display="":t.style.display="none"}))}else g.forEach((function(t){return t.style.display=""}))}))}}var P=a(9344),T=a.n(P),A=a(3655),C=a.n(A);function j(){var t=document.querySelectorAll("[data-range]");t.length&&(t.forEach((function(t){var e=t.querySelector("[data-range-range]"),a=t.querySelector("[data-range-from]"),o=t.querySelector("[data-range-to]"),n=a.getAttribute("data-range-from"),r=o.getAttribute("data-range-to"),i=e.getAttribute("data-range-min"),c=e.getAttribute("data-range-max");e&&e.noUiSlider||(T().create(e,{start:[n,r],connect:!0,behaviour:"none",range:{min:+i,max:+c},format:C()({decimals:0,thousand:" "})}),e.noUiSlider.on("update",(function(t,e){var n=t[e];e?o.value=n:a.value=n})),e.noUiSlider.on("change",(function(t,e){e?o.dispatchEvent(new Event("change",{bubbles:!0})):a.dispatchEvent(new Event("change",{bubbles:!0}))})),a.addEventListener("change",(function(){e.noUiSlider.set([this.value,null])})),o.addEventListener("change",(function(){e.noUiSlider.set([null,this.value])})))})),window.addEventListener("click",(function(t){if(t.target.closest("[data-range]")){var e=document.querySelectorAll("[data-range-input-block]"),a=t.target.closest("[data-range-input-block]");a&&(e.forEach((function(t){t.classList.remove("active")})),a.querySelector("input").focus(),a.classList.add("active"))}else document.querySelector("[data-range-input-block].active")&&document.querySelector("[data-range-input-block].active").classList.remove("active")})));var e=document.querySelectorAll("[data-slider-range]");e.length&&e.forEach((function(t){var e=t.querySelector("#slider-range"),a=t.querySelector("[data-range-input]"),o=e.getAttribute("data-range-min"),n=e.getAttribute("data-range-max");T().create(e,{start:[+o],step:100,range:{min:[+o],max:[+n]},format:C()({decimals:0,thousand:" "})}),a.addEventListener("change",(function(){var t=this.value;a.value=t.replace(/[^0-9 ]/g,""),e.noUiSlider.set([t.replace(/[^0-9 ]/g,"")])})),e.noUiSlider.on("update",(function(t,o){var n=t[o];a.value=n.replace(/[^0-9 ]/g,""),e.hasAttribute("data-custom-with")&&(window.MIRROR_PRICE.width=Number(t[o].replace(/[^0-9]/g,"")),window.dispatchEvent(L)),e.hasAttribute("data-custom-height")&&(window.MIRROR_PRICE.height=Number(t[o].replace(/[^0-9]/g,"")),window.dispatchEvent(L)),e.hasAttribute("data-custom-diameter")&&(window.MIRROR_PRICE.diameter=Number(t[o].replace(/[^0-9]/g,"")),window.dispatchEvent(L))}))}))}function I(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.menu=document.querySelector(e),this.count=0,this.status=document.querySelector("[data-menu-status]"),this.resetBtn=document.querySelector("[data-menu-btn=reset]"),this.ranges=this.menu.querySelectorAll("[data-range-range]"),this.types=this.menu.querySelectorAll("[data-filter-type]"),this.init()}var e,a,o;return e=t,(a=[{key:"init",value:function(){this.menuHandlers(),this.touchHandlers()}},{key:"menuHandlers",value:function(){var t=this;document.querySelectorAll("[data-menu-btn]").forEach((function(e){var a=e.getAttribute("data-menu-btn"),o=e.getAttribute("data-modal-id");e.onclick=function(){t[a](o)}})),this.types.forEach((function(e){e.onchange=function(){e.checked?(e.classList.add("active"),t.count++):(e.classList.remove("active"),t.count--)}}))}},{key:"touchHandlers",value:function(){var t=this,e=0;this.menu.addEventListener("touchstart",(function(t){e=t.changedTouches[0].screenX})),this.menu.addEventListener("touchend",(function(a){a.target.closest("[data-range]")||a.changedTouches[0].screenX>e&&t.close()}))}},{key:"close",value:function(){this.menu.classList.remove("active"),document.body.classList.remove("body--hidden")}},{key:"open",value:function(){this.menu.classList.add("active"),document.body.classList.add("body--hidden")}},{key:"accept",value:function(){this.checkRanges(),this.count?(this.status.classList.add("active"),this.resetBtn.classList.remove("hidden")):(this.status.classList.remove("active"),this.resetBtn.classList.add("hidden")),this.close()}},{key:"reset",value:function(){this.menu.querySelectorAll("[data-modal-id].active").forEach((function(t){t.classList.remove("active")})),this.ranges.forEach((function(t){t.noUiSlider.reset()})),this.types.forEach((function(t){t.checked=!1})),this.count=0,this.status.classList.remove("active"),this.resetBtn.classList.add("hidden")}},{key:"openModal",value:function(t){this.menu.querySelector('[data-menu-modal="'.concat(t,'"]')).classList.add("active")}},{key:"closeModal",value:function(){this.menu.querySelector("[data-menu-modal].active").classList.remove("active")}},{key:"checkRanges",value:function(){var t=this;this.menu.querySelectorAll("[data-range]").forEach((function(e){var a=e.querySelector("[data-range-from]").getAttribute("data-range-from"),o=e.querySelector("[data-range-to]").getAttribute("data-range-to"),n=e.querySelector("[data-range-range]").noUiSlider.get();+a===t.getNumber(n[0])&&+o===t.getNumber(n[1])||t.count++}))}},{key:"getNumber",value:function(t){return+t.replace(" ","")}}])&&I(e.prototype,a),o&&I(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(){document.querySelector("[data-catalog-menu]")&&new M("[data-catalog-menu]")}));var D=a(5440),H=a(5638);function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(Object(a),!0).forEach((function(e){U(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function U(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var z=1024;H(window).on("load",(function(){var t=H("[data-slider-id]");0!==t.length&&t.each((function(){var t=H(this),e=t.data("slider-id"),a=t.find(".swiper-slide"),o=t.data("slider-min"),n={slidesPerView:"auto",spaceBetween:8,loop:!0,breakpoints:U({},z,{spaceBetween:12})};switch(e){case 10:n={pagination:{el:".swiper-pagination"},breakpoints:U({},z,{pagination:!1})};break;case 2:n=F(F({},n),{},{breakpoints:U({},z,{slidesPerView:2})});break;case 1:n=F({},n)}var r=t.data("slider-prev"),i=t.data("slider-next"),c=H('[data-slider-button="'.concat(r,'"]')),d=H('[data-slider-button="'.concat(i,'"]'));if(o>=a.length)c.closest("[data-slider-buttons]").addClass("hidden");else{var l=new D.Z(t[0],n);c.on("click",(function(){l.slidePrev()})),d.on("click",(function(){l.slideNext()}))}}))}));a(9490);var B=a(5638);function G(t,e){var a=t.term;if(""===B.trim(t.term))return e;if(void 0===e.text)return null;if(!a.match(/^[а-яё]/i))return e;var o=new RegExp("^".concat(a),"i");return e.text.match(o)?e:null}function W(){B(".select__select").each((function(){var t=B(this),e=t.closest(".select-wrapper"),a=getComputedStyle(e[0]),o=t.data("select-placeholder"),n=t.is("[data-select-search]");"static"===a.position&&e.css("position","relative");var r={dropdownParent:e,selectOnClose:!0,placeholder:o,language:{noResults:function(){return"Подходящих городов нет"}}};n?r.matcher=G:r.minimumResultsForSearch=1/0,t.select2(r),t.on("select2:open",(function(a){e.css("z-index","100000");var o=e.find(".select2-dropdown");if(o.addClass("open"),n){var r=o.find(".select2-search__field"),c=t.data("select-search");r.val(""),r.attr("placeholder",c)}t.on("select2:closing",i)}));var i=function(a){a.preventDefault(),e.css("pointer-events","none"),t.off("select2:closing"),e.find(".select2-dropdown").removeClass("open");var o=e.find(".select2");o.addClass("closing"),o.removeClass("select2-container--open"),setTimeout((function(){e.css("pointer-events",""),o.addClass("select2-container--open"),setTimeout((function(){t.select2("close")}))}),400)}}))}B((function(){W()}));a(1044),a(9135);function Q(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.select=this.root.querySelector("[data-select-select]"),this.options=this.select.options,this.selected=this.root.querySelector("[data-select-selected]"),this.list=this.root.querySelector("[data-select-list]"),this.dropdown=this.root.querySelector("[data-select-dropdown]"),this.initSelect(),this.clickHandler()}var e,a,o;return e=t,(a=[{key:"initSelect",value:function(){this.selected.textContent=this.options[0].textContent,this.renderOptions()}},{key:"clickHandler",value:function(){var t=this;window.addEventListener("click",(function(e){var a=e.target;if(a.closest("[data-select-button]"))if(t.root.classList.contains("active"))t.root.classList.remove("active"),t.dropdown.style.maxHeight="0";else{var o=t.list.offsetHeight;t.root.classList.add("active"),t.dropdown.style.maxHeight="".concat(o,"px")}if(a.closest("[data-select-option]")){var n=a.textContent;t.selected.textContent=n,t.root.classList.remove("active"),t.dropdown.style.maxHeight="0",t.select.value=n,t.select.dispatchEvent(new Event("change")),t.dropdown.addEventListener("transitionend",(function(){t.list.innerHTML="",t.renderOptions()}),{once:!0})}t.root.classList.contains("active")&&(a.closest(".custom-select")||(t.root.classList.remove("active"),t.dropdown.style.maxHeight="0"))}))}},{key:"renderOptions",value:function(){for(var t=0;t<this.options.length;t++)if(this.selected.textContent!==this.options[t].textContent){var e=document.createElement("li");e.classList.add("custom-select__item"),e.setAttribute("data-select-option",""),e.textContent=this.options[t].textContent,this.list.append(e)}}}])&&Q(e.prototype,a),o&&Q(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-select]");t.length&&t.forEach((function(t){new Z(t)}))}));var $=a(5638);function V(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function Y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?V(Object(a),!0).forEach((function(e){K(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function K(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function X(t,e){e&&t.geoObjects.removeAll();var a=ymaps.templateLayoutFactory.createClass(['<div class="balloon-container">','<div class="balloon__content balloon__content_cluster">',"$[properties.balloon]","</div>","</div>"].join(""),{}),o=new ymaps.Clusterer({clusterIconLayout:ymaps.templateLayoutFactory.createClass('<div class="cluster">{{ properties.geoObjects.length }}</div>'),clusterBalloonItemContentLayout:a,clusterBalloonContentLayout:"cluster#balloonCarousel",hideIconOnBalloonOpen:!1,clusterIconShape:{type:"Rectangle",coordinates:[[0,0],[50,50]]}});o.events.add(["balloonopen"],(function(t){o.getClusters()[0].getGeoObjects().forEach((function(t){var e=t.properties._data,a=document.createElement("div");a.innerHTML=e.balloon;var o=a.querySelector(".buy-page__title").textContent;document.querySelectorAll("[data-placemark]").forEach((function(t){t.querySelector(".buy-page__title").textContent===o&&t.classList.add("active")}))}))})),o.events.add(["balloonclose"],(function(t){document.querySelectorAll("[data-placemark].active").forEach((function(t){t.classList.remove("active")}))})),o.events.add(["balloonopen"],(function(t){if(t.get("cluster")){var e=t.get("cluster").getGeoObjects(),a="";e.forEach((function(t,e){a+='\n          <div class="balloon__content balloon__content_cluster"> \n          '.concat(t.properties._data.balloon,"\n          </div>")})),document.querySelector(".balloon-container").innerHTML=a}}));var n=ymaps.templateLayoutFactory.createClass(['<div class="balloon">','<div class="balloon__content">',"$[properties.balloon]","</div>",'<div class="balloon__close"></div>','<div class="balloon__arrow"></div>',"</div>"].join(""),{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".balloon",this.getParentElement()),this._$element.find(".balloon__close").bind("click",this.onCloseClick),this.applyElementOffset()},onSublayoutSizeChange:function(){n.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2,top:-(this._$element[0].offsetHeight+38+4)})},getShape:function(){if(!this._isElement(this._$element))return n.superclass.getShape.call(this);var t=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[t.left,t.top],[t.left+this._$element[0].offsetWidth,t.top+this._$element[0].offsetHeight]]))},onCloseClick:function(){t.balloon.close()},_isElement:function(t){return t&&t[0]}}),r=[],c=[],d=$("[data-placemarks]"),l=$("[data-placemark]");$("[data-placemark]").each((function(){c.push(ymaps.geocode($(this).data("placemark").trim()))})),Promise.all(c).then((function(e){e.forEach((function(e,a){var c=l.eq(a).html(),s=l.eq(a).data("store-type"),u=l.eq(a).data("placemark-exposition");if(u){var f=function(t){var e=$(document.createElement("div")),a=[];t.forEach((function(t){var e='<a href="'.concat(t.link,'" target="_blank" class="buy-page__exposition-item">').concat(t.name,"</a>");a.push(e)}));var o=['<div class="buy-page__exposition">','<div class="buy-page__exposition-container">','<div class="buy-page__exposition-title">',"Экспозиция","</div>",'<div class="buy-page__exposition-list">',"".concat(a.join("")),"</div>","</div>","</div>"].join("");return e.html(o),e.html()}(u);c+=f}var p=e.geoObjects.get(0).geometry.getCoordinates(),m=new ymaps.Placemark(p,{balloon:c},{iconLayout:"default#image",iconImageHref:"".concat(window.CONFIG.path,"/assets/images/svg/placemark-").concat(s,".svg"),iconImageSize:[38,38],iconImageOffset:[-19,-19],balloonLayout:n,balloonPanelMaxMapArea:0,hideIconOnBalloonOpen:!1});m.events.add(["click"],(function(){if(i.matches){var t=l.eq(a)[0].offsetTop;d.scrollTop(t+1)}else{var e=document.querySelector("[data-placemark-modal]");e.querySelector("[data-placemark-container]").innerHTML=c;var o=Y(Y({},h),{},{animationEffect:"right"});$.fancybox.defaults=Y(Y({},$.fancybox.defaults),o),$.fancybox.open($(e))}})),m.events.add(["balloonopen"],(function(){l.eq(a).addClass("active")})),m.events.add(["balloonclose"],(function(){l.eq(a).removeClass("active")})),i.matches&&l.eq(a).on("click",(function(){m.getParent()||t.setCenter(p,16);try{m.balloon.open()}catch(t){var e=function(t,e){for(var a,o=e.getClusters(),n=0;n<o.length;n++)for(var r=o[n].getGeoObjects(),i=0;i<r.length;i++)if(r[i]===t){a=o[n];break}return a}(m,o);o.balloon.open(e)}})),r.push(m)})),o.add(r),t.geoObjects.add(o),t.setBounds(o.getBounds(),{zoomMargin:Math.max(38,38)}).then((function(){1===r.length&&t.setZoom(15)}))}))}$((function(){if($("#map").length){try{ymaps.ready((function(){var t=$("#map").data("map-center").split(" "),e=new ymaps.Map("map",{center:t,zoom:15,controls:[]},{maxZoom:22});i.matches||e.behaviors.disable("drag"),X(e),e.events.add("click",(function(){e.balloon.isOpen()&&e.balloon.close()})),$("#map")[0].YMap=e}))}catch(t){console.error(t)}var t=document.querySelector("[data-partners-btn]"),e=document.querySelector("[data-partners-select]").querySelector(".select2-selection__placeholder");t.onclick=function(){var t=this.closest("[data-fancy-modal]"),a=t.querySelectorAll("[data-partners-item]"),o=[];a.forEach((function(t){if(t.querySelector("[data-partners-checkbox]").checked){var e=t.querySelector("[data-partners-type]").textContent;o.push(e)}}));var n=o.length?o.join(", "):"тип партнера";e.textContent=n,$.fancybox.close($(t))}}}));var J=a(1597);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-gallery]");if(t.length){var e,a;c.matches?(e=450,a=634):(e=.6*window.innerWidth,a=.8*window.innerHeight);var o=[];t.forEach((function(t){var n=t.querySelector("img");o.push({src:n.src,type:"image",width:e,height:a})})),window.addEventListener("click",(function(t){var e=t.target.closest("[data-gallery]");if(e){var a=e.dataset.gallery;J.KR.show(o,{startIndex:a})}}))}})),document.addEventListener("DOMContentLoaded",(function(){var t,e,a=document.querySelectorAll("[data-fancybox-video]");a.length&&(i.matches?(t=.71*window.innerWidth,e=.7*window.innerHeight):t=window.innerWidth-30,a.forEach((function(a){var o=a.getAttribute("data-fancybox-video");a.addEventListener("click",(function(){J.KR.show([{src:o,type:"video",width:t,height:e}],{mainClass:"video-modal"})}))})))}));var tt=a(5638);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".cities-modal");if(t&&!i.matches){var e=t.querySelector("[data-cities-input]"),a=t.querySelectorAll("[data-cities-item]");e.addEventListener("input",(function(){var t=new RegExp("^".concat(this.value),"i");a.forEach((function(e){e.textContent.match(t)?e.classList.remove("hidden"):e.classList.add("hidden")}))}));var o=document.querySelector('[data-fancy-button="cities"]').querySelector(".select__select");a.forEach((function(e){e.addEventListener("click",(function(){var e=this.getAttribute("data-cities-item");tt(o).val(e).trigger("change"),tt.fancybox.close(t)}))}))}}));var et=a(5566),at=a.n(et);function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function nt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){rt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function rt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function it(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ct=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.options=nt({start:1,end:1/0,offset:1,speed:2},a),this.scrollHandler()}var e,a,o;return e=t,a=[{key:"scrollHandler",value:function(){var t=this;window.addEventListener("scroll",(function(){t.update()}))}},{key:"getParallax",value:function(t){return t/10*this.options.speed}},{key:"setParallax",value:function(t){var e=this;requestAnimationFrame((function(){e.root.style.transform="translateY(".concat(t,"px)")}))}},{key:"update",value:function(){var t=window.scrollY;if(t>this.options.start&&t<this.options.end){var e=t-this.options.start+this.options.offset;this.setParallax(this.getParallax(e))}}},{key:"updateOptions",value:function(t){this.options=nt(nt({},this.options),t)}},{key:"onResize",value:function(t){var e=document.body;new MutationObserver(t).observe(e,{attributes:!0,childList:!0,subtree:!0})}}],a&&it(e.prototype,a),o&&it(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),dt=a(3412),lt=a(7371),st=a(7369),ut=a(6383);a(4109);(0,ut.ScrollMagicPluginGsap)(dt,lt.Q3,st.b_),lt.Q3.defaultOverwrite=!1;function ft(t,e,a,o,n){for(var r=0;r<e.length;r++)n[r]=new dt.Scene({triggerElement:t,duration:o.offsetHeight,offset:(i='[data-color-block="'.concat(r,'"]'),document.documentElement.clientHeight-document.querySelector(i).getBoundingClientRect().bottom),triggerHook:1}).setClassToggle('[data-color-block="'.concat(r,'"]'),"dark").addTo(a);var i}var pt=function(){var t;!function(){var t=document.querySelector("[data-scroll-about]");if(t){var e=t.querySelectorAll("[data-scroll-section]"),a=e[0].offsetHeight/2,o=new dt.Controller({refreshInterval:1}),n={};i.matches?(n.scale=1.65,n.top="48%"):(n.scale=1.33,n.top="36%");var r=document.querySelector("[data-scroll-first]");if(r){var c=window.innerHeight-r.offsetHeight,d=new st.b_,l=r.querySelector("[data-scroll-wrapper]");i.matches&&d.add(lt.Q3.fromTo(l,1,{y:"0%"},{y:"25%",ease:"linear",immediateRender:!1})),d.add(lt.Q3.fromTo(r.querySelector("[data-scroll-overlay]"),1,{opacity:"0"},{opacity:"0.2",immediateRender:!1}),0);var s=new dt.Scene({triggerElement:t,duration:a,triggerHook:1,offset:c}).setTween(d).addTo(o),u=new st.b_;u.add(lt.Q3.fromTo(r.querySelector("[data-scroll-overlay]"),{opacity:"0.2"},{opacity:"0.5",ease:"linear",immediateRender:!1}),0),new dt.Scene({triggerElement:t,duration:a,triggerHook:.5,offset:c}).setClassToggle(l,"fixed").setTween(u).addTo(o),i.matches||s.setClassToggle(l,"fixed")}e.forEach((function(t,r){var c=t.querySelectorAll("[data-scroll-stone]"),d=t.querySelector("[data-scroll-list]"),l=t.querySelectorAll("[data-scroll-opacity]"),s=t.querySelector("[data-scroll-scale]"),u=new st.b_;if(r){var f=e[r-1].querySelector("[data-scroll-overlay]"),p=new st.b_,m=e[r-1].querySelector("[data-scroll-wrapper]");p.add(lt.Q3.fromTo(f,1,{opacity:"0"},{opacity:"0.5",ease:"linear",immediateRender:!1}),0),new dt.Scene({triggerElement:t,duration:window.innerHeight,triggerHook:1}).setClassToggle(m,"fixed").setTween(p).addTo(o)}var h=new st.b_;c.forEach((function(t,e){var a;a=i.matches?t.dataset.scrollStone.split(","):t.dataset.scrollMobile.split(","),h.add(lt.Q3.fromTo(t,1,{bottom:"0%",rotate:"0deg"},{bottom:"".concat(a[0],"%"),rotate:"15deg",immediateRender:!1}),0),u.add(lt.Q3.fromTo(t,1,{bottom:"".concat(a[0],"%"),rotate:"15deg"},{bottom:"".concat(a[1],"%"),rotate:"30deg",immediateRender:!1}),0),u.add(lt.Q3.fromTo(t,1,{bottom:"".concat(a[1],"%"),rotate:"30deg"},{bottom:"".concat(a[2],"%"),rotate:"45deg",immediateRender:!1}),">")})),new dt.Scene({triggerElement:t,duration:a,triggerHook:.5}).setTween(h).addTo(o),u.add(lt.Q3.fromTo(l,1,{opacity:1},{opacity:0,immediateRender:!1}),"<"),u.add(lt.Q3.fromTo(s,1,{scale:1},{scale:n.scale,immediateRender:!1}),"<"),u.add(lt.Q3.to(d,.5,{top:n.top}),"<0.5"),u.add(lt.Q3.to(c,1,{bottom:"110%"}),"<"),new dt.Scene({triggerElement:t,duration:2*a,triggerHook:0}).setPin(t).setTween(u).addTo(o)}))}}(),t=document.querySelectorAll("[data-product-section]"),i.matches&&t.length&&t.forEach((function(t){var e=t.querySelector("[data-small-slider]"),a=t.querySelector("[data-product-overlay]"),o=new dt.Controller({refreshInterval:1}),n=new st.b_;n.add(lt.Q3.to(e,1,{top:"13%",ease:"linear"})),n.add(lt.Q3.fromTo(a,1,{opacity:"0"},{opacity:"0.2",ease:"linear"}),0),new dt.Scene({triggerElement:t,duration:window.innerHeight,triggerHook:0,offset:-32}).setTween(n).setPin(t).addTo(o)})),i.matches&&document.querySelectorAll("[data-parallax]").forEach((function(t){var e=t.getBoundingClientRect().top-window.innerHeight,a=t.getBoundingClientRect().top+t.offsetHeight;new ct(t,{start:e,end:a})})),function(){var t=document.querySelector("#white-sec"),e=document.querySelector("#white-sec-mob");if(t||e){var a=new dt.Controller,o=document.querySelectorAll("[data-color-block]");if(o.forEach((function(t,e){t.setAttribute("data-color-block","".concat(e))})),i.matches&&t){var n=[];ft("#white-sec",o,a,t,n),window.addEventListener("resize",(function(){n.forEach((function(t){t.destroy()})),setTimeout((function(){ft("#white-sec",o,a,t,n)}),500)}));var r=!0;window.addEventListener("paginationTrigger",(function(){r&&(r=!1,n.forEach((function(t){t.destroy()})),setTimeout((function(){ft("#white-sec",o,a,t,n),r=!0}),500))}))}}}(),at().init({once:!0,offset:0,duration:500})};window.addEventListener("load",(function(){document.body.classList.remove("body--notransition");var t=document.querySelector(".first-screen"),e=document.querySelector(".preloader");if(t){var a=document.querySelector(".main-slider");e&&i.matches?(document.body.classList.add("body--hidden"),e.classList.add("preloader--hidden"),a.classList.remove("main-slider--zoom-out"),setTimeout((function(){document.body.classList.remove("body--hidden"),window.scrollTo(0,0),a.querySelector(".swiper-slide-active").classList.remove("text-out")}),1100),setTimeout((function(){pt()}),1700)):(a.classList.remove("main-slider--zoom-out"),a.classList.add("main-slider--no-transition"),a.querySelector(".swiper-slide-active").classList.remove("text-out"),pt())}else pt()}));a(3053);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-blur-section]");t&&i.matches&&window.addEventListener("scroll",(function(){var e=this.scrollY,a=e/this.innerHeight*12;e>this.innerHeight?t.style.backdropFilter="blur(12px)":e<this.innerHeight&&(t.style.backdropFilter="blur(".concat(a,"px)"))}))}));a(2972);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-hover]");if(t&&i.matches){var e=null;t.addEventListener("mouseover",(function(t){if(!e){var a=t.target.closest("[data-hover-container]");if(a){var o=a.querySelector("[data-hover-img]");o&&(o.classList.add("active"),e=a)}}})),t.addEventListener("mouseout",(function(t){e&&(t.relatedTarget.closest("[data-hover-container]")||(e.querySelector("[data-hover-img]").classList.remove("active"),e=null))}))}}));var mt=a(5638),ht=new Intl.NumberFormat("ru-RU",{maximumSignificantDigits:10}),vt={};function gt(){mt("[data-type=catalog-disable]").length||(mt(document).ready((function(){mt("[data-order]").length>0&&(wt(),yt(),bt())})),mt(document).on("click","[data-option-add]",(function(){var t=mt(this).closest("[data-option]"),e=t.find("[data-option-delete]").parent(),a=t.find("[data-option-add]");t.data("option")&&mt("[data-option=".concat(t.data("option"),"]")).each((function(t,e){var a=mt(e).find("[data-option-delete]").parent();mt(e).find("[data-option-add]").css("display",""),a.css("display","none"),mt(e).removeClass("active")})),a.css("display","none"),e.css("display",""),t.addClass("active"),wt(),yt()})),mt(document).on("click","[data-option-delete]",(function(){var t=mt(this).data("option-delete"),e=mt("[data-option][data-id=".concat(t,"]")),a=e.find("[data-option-delete]").parent();e.find("[data-option-add]").css("display",""),a.css("display","none"),e.removeClass("active"),wt(),yt()})),mt(document).on("click","[data-product-tab]",(function(){wt(),yt(),bt()})),mt(document).on("click","[data-button-modal=dop-options]",(function(t){var e=mt(this).data("button-modal");"BUTTON"===t.target.nodeName&&mt(t.target).data("option-delete")||"svg"!==t.target.nodeName&&"path"!==t.target.nodeName&&(function(t){if(null===t){return void mt("[data-option]").each((function(t,e){mt(e).css("display","")}))}var e=t.closest("[data-options-list-material]").data("options-list-material"),a=t.data("show-tab");mt("[data-option-list=".concat(e,"]")).find("[data-option]").each((function(t,e){return a?"options"===a?(mt(e).css("display",""),!0):void(mt(e).data("show")===a?mt(e).css("display",""):mt(e).css("display","none")):(mt(e).css("display",""),!0)}))}("SPAN"===t.target.nodeName?mt(t.target).closest("[data-show-tab]"):t.target.hasAttribute("data-show-tab")?mt(t.target):null),v(e))})))}function yt(){var t={order:mt("[data-order=main]"),color:mt("[data-order=color]"),new_rows:mt("[data-order=new-rows]"),dop_options:mt("[data-order=dop-options]"),dop_options_container:mt("[data-order=dop-options-container]"),dop_options_list:mt("[data-options-list]"),dop_options_show_tabs:mt("[data-options-list-material=".concat(vt.material,"]")),material:mt("[data-ttl-order=materials]"),coating:mt("[data-ttl-order=coating]"),coating_price:mt("[data-price-order=materials]"),artnumber:mt("[data-articule]"),total_price:mt("[data-total-price]")};t.new_rows.text(""),t.dop_options.text(""),t.dop_options_list.text(""),t.artnumber.text(vt.artnumber),t.material.text(vt.material_order),t.coating.text(vt.coating),t.coating_price.text(ht.format(vt.coating_price)),t.total_price.text(ht.format(vt.total_price)),"default"===vt.color.type?(t.color.find("[data-ttl=color]").text(vt.color.title),t.color.find("[data-price-order=color]").text("0"),t.color.find("[data-color-row]").addClass("display-none")):(t.color.find("[data-ttl=color]").text(vt.color.type),t.color.find("[data-ttl=color-ral]").text(vt.color.title),t.color.find("[data-price-order=color]").text(ht.format(vt.color.price)),t.color.find("[data-color-row]").removeClass("display-none")),vt.additional.forEach((function(e){if(!0===e.row){var a=mt(document.querySelector("template#new-row").innerHTML);a.find("[data-ttl]").text(e.title),a.find("[data-sub-ttl]").text(e.value),a.find("[data-price-order]").text(e.price),t.new_rows.append(a)}else{var o=mt(document.querySelector("template#option-order").innerHTML);o.find("[data-ttl]").text(e.title),o.find("[data-price]").text(e.price),t.dop_options.append(o)}var n=mt(document.querySelector("template#option").innerHTML);n.find("[data-ttl]").text(e.title),n.find("[data-price]").text(e.price),n.find("[data-option-delete]").data("option-delete",e.id),t.dop_options_list.append(n)})),vt.additional_select.forEach((function(e){var a=mt(document.querySelector("template#option").innerHTML);a.find("[data-ttl]").text(vt[e].title),a.find("[data-price]").text(vt[e].price),a.find("[data-option-delete]").data("option-delete",vt[e].id),t.dop_options_list.append(a)})),t.dop_options_list.text().trim()?(t.dop_options_list.closest("[data-options-list-bg]").addClass("active"),t.dop_options_show_tabs.find("[data-show-tab]").css("display","none"),t.dop_options_show_tabs.find("[data-show-tab=options]").css("display","")):(t.dop_options_list.closest("[data-options-list-bg]").removeClass("active"),t.dop_options_show_tabs.find("[data-show-tab]").css("display",""),t.dop_options_show_tabs.find("[data-show-tab=options]").css("display","none")),t.dop_options.text().trim()?t.dop_options_container.css("display",""):t.dop_options_container.css("display","none"),mt("[data-option-list]").each((function(t,e){mt(e).data("option-list")!==vt.material?mt(e).css("display","none"):mt(e).css("display","")})),mt("[data-option]").each((function(t,e){var a=mt(e).find("[data-price-change]"),o=mt(e).find("[data-price]");if(!a||!a.text().trim())return!0;vt.price_change?(a.css("display",""),o.css("display","none")):(a.css("display","none"),o.css("display",""))})),mt("[data-options-list-material]").each((function(t,e){mt(e).data("options-list-material")===vt.material?mt(e).css("display",""):mt(e).css("display","none")}))}function wt(){var t=mt(".active[data-material-tab]").data("material-tab"),e=mt(".active[data-options-content]").find(".active[data-color-content]"),a={material:mt(".active[data-material-tab]"),coating:mt(".active[data-coating-tab][data-material=".concat(t,"]")),color:e.find(".active[data-material=".concat(t,"]")).find(".active[data-color-tab]"),color_type:e.find("[data-tab-panel=colors]").find(".active[data-color-tab]"),options:mt("[data-option-list=".concat(t,"]")).find(".active[data-option]")};(vt={material:t,material_order:a.material.find("span").data("opt-ttl"),coating:a.coating.data("coating-tab"),coating_price:a.coating.data("base-price"),front:{default:!0,value:"Нет",price:"0"},side:{default:!0,value:"Нет",price:"0"},color:{title:a.color.data("opt-ttl"),type:a.color[0].hasAttribute("data-default-color")?"default":a.color_type.data("color-tab"),price:a.color[0].hasAttribute("data-default-color")?0:a.color_type.data("color-price")},additional:[],additional_select:[],total_price:0,dop_art:!1,price_change:!1}).price_change="default"!==vt.color.type,a.options.each((function(t,e){var a=mt(e),o=a.find("[data-price]").text();vt.additional[t]={id:a.data("id"),title:a.find("[data-ttl]").text(),value:a.data("select"),price:a.find("[data-price]").text(),row:a[0].hasAttribute("data-option-row")},vt.dop_art=a[0].hasAttribute("data-option-articule"),vt.total_price+=parseInt(o.replace(/ /g,""))}));var o=a.coating.data("color-base-price"),n=mt("[data-old-price]"),r=n.closest("[data-old-price-container]");o&&!vt.price_change?(r.css("display","block"),n.text(o)):r.css("display","none"),"default"===vt.color.type?vt.artnumber=!0===vt.dop_art?a.color.data("dop-articule"):a.color.data("articule-tab"):vt.artnumber=!0===vt.dop_art?a.color_type.data("dop-articule"):a.color_type.data("articule-tab"),vt.color.price&&o?vt.total_price+=parseInt(vt.color.price):vt.total_price+=parseInt(vt.coating_price)+parseInt(vt.color.price)}function bt(){var t=mt(".active[data-options-content]").find(".active[data-color-content]").find("[data-tab-panel=colors]"),e=t.find(".active[data-color-tab]").data("color-price");t.find(":not(.active)[data-color-tab]").each((function(t,a){var o=mt(a).data("color-price"),n=o-e>0?"+"+ht.format(o-e):ht.format(o-e);mt(a).find(".opt-price-diff").text(n)}))}var St=a(5638);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function _t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!1;function o(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!==Et(window.dataLayer)||void 0===t)return 2;var o={ecommerce:{currencyCode:"RUB"}},n=[{id:e.id,name:e.name,price:e.price,brand:e.brand,category:e.category,variant:e.type,list:e.page,position:e.pos}];o.ecommerce[t]={products:n},"purchase"===t&&a&&(o.ecommerce[t]["actionField="]={id:a}),window.dataLayer.push(o)}function n(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.data("ec-action"),i=t.data("ec-data"),c=["id","name","price","category","type","page","pos"];"salini-srl.com"===window.location.host&&(e||t.css("pointer-events","none"),!0!==a?(c.forEach((function(t){if(!(t in i))return 2})),!1===a&&(o(r,i,n),a=!0,t.trigger("click"))):a=!1)}St(document).on("click","[data-type=ec-event]",(function(){n(St(this))})),t&&e&&n(t,!0,e)}var Ot=a(5638);function xt(t,e){t.each((function(t,a){var o=Ot(a),n=o.data("fetch-response"),r=Ot(e).filter("[data-fetch-response=".concat(n,"]"));r.length||(r=Ot(e).find("[data-fetch-response=".concat(n,"]"))),o.empty(),o.append(r.children())}))}function kt(t,e){var a=t,o=a.parents("[data-container=filters]"),n=a.parents("[data-container=filter]"),r=n.data("filter-field"),i=Ot("[data-fetch-response]").filter((function(t,e){return Ot(e).data("fetch-response")!==o.data("fetch-response")}));window.filters.getData[n.data("get-type")](r,e),Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){xt(i,t),W(),window.filters.fetchCallable[o.data("fetch-callable")](a,t)}})}function qt(){Ot(document).ready((function(){var t=[];Ot(document).find("[data-type=snippet-img-hide]").each((function(){t.push(Ot(this).html())})),Ot(document).find("[data-type=snippet-img-show]").each((function(e){console.log(e),Ot(this).html(t[e])}))}))}Ot((function(){Ot(document).on("click","[data-type=show_more_click]",(function(t){var e=Ot(this),a=e.parents("[data-type=container]"),o=a.find("[data-type=show_more_click_block]"),n=a.find("[data-type=items-container]");console.log("show more"),o.empty(),Ot.ajax({method:"GET",url:e.data("url"),data:{ajax:"pagen"},success:function(t){var e=Ot(t).find("[data-type=items-container]").html(),a=Ot(t).find("[data-type=show_more_click]");n.append(e),a&&o.append(a),window.dispatchEvent(new Event("resize"))},error:function(t){console.debug(t)}})})),Ot("[data-type=form]").on("submit",(function(t){t.preventDefault();var e=Ot(this),a=e.attr("data-url"),o=!!e.find("[data-type=get-field-file]").length&&e.find("[data-type=get-field-file]"),n=!o&&"application/x-www-form-urlencoded; charset=UTF-8",r=!o,i=o?new FormData:{},c=e.data("ym-id");console.log(c),ym("54015997","reachGoal",c),o&&(Ot.each(o.files,(function(t,e){i.append("file[]",e)})),i.append("file",o[0].files[0])),e.find("[data-type=get-field]").each((function(t,e){var a=Ot(e),n=a.val();n&&(o?i.append(a.data("field"),n):i[a.data("field")]=n)})),Ot.ajax({type:"POST",url:a,dataType:"json",contentType:n,processData:r,data:i,success:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t.success?success(e):console.log(t.message)})),error:function(t){console.debug(t)}})})),Ot("[data-type=input-search]").keypress((function(t){var e=Ot(this).val();13==t.which&&(document.location.href="/search/?q="+e)})),Ot(document).on("change","[data-type=filter-change]",(function(t){t.preventDefault(),console.log("change");var e=[],a=Ot(document).find("[data-code=city]").val(),o=document.getElementById("map");Ot(document).find("[data-code=type]").each((function(t,a){Ot(a).is(":checked")&&(e[t]=Ot(a).attr("data-value"))})),console.log(a),console.log(e),Ot.ajax({method:"GET",url:window.location.href,data:{ajax:1,city:a,type:e},success:function(t){Ot(document).find("[data-type=items-list]").empty(),Ot(document).find("[data-type=items-list]").append(Ot(t)),X(o.YMap,!0),a&&Ot(document).find("[data-code=city]").attr("data-select-placeholder",a)},error:function(t){console.debug(t)}})})),Ot(document).on("change","[data-type=filter-change-catalog]",(function(t){t.preventDefault(),console.log("change catalog");var e=[],a=Ot(this).attr("data-code-type"),o=Ot(this).parents("body"),n=[],r=0,i=[];console.log("type block active before each - "+r),o.find("[data-type=filter-change-catalog]").each((function(t,a){var o=Ot(a).attr("data-code"),n=Ot(a).attr("data-code-type");if("type"==o)Ot(a).is(":checked")&&(i[t]=Ot(a).attr("data-value"),r=1,console.log("checked"));else{var c=Ot(a).parents("[data-range]"),d=c.find("[data-range-from]").val(),l=c.find("[data-range-to]").val(),s=c.find("[data-type=hidden-min-"+n+"]").val(),u=c.find("[data-type=hidden-max-"+n+"]").val();e[o]=Ot(a).val(),d==s&&l==u?c.attr("data-filter-active",0):c.attr("data-filter-active",1),0==d&&0==l&&c.attr("data-filter-active",0)}})),console.log("type block active - "+r),1==r?o.find("[data-type=range-type-block]").attr("data-filter-active",1):o.find("[data-type=range-type-block]").attr("data-filter-active",0),o.find("[data-filter-active=1]").each((function(t,e){var a=Ot(e).attr("data-code-type");n[t]=a})),Ot.ajax({method:"GET",url:window.location.href,data:{ajax:"pagen",type_filter:i,height_max:e.height_max,height_min:e.height_min,length_max:e.length_max,length_min:e.length_min,price_max:e.price_max,price_min:e.price_min,width_max:e.width_max,width_min:e.width_min,sort_filter:e.sort,active_code_filter_arr:n},success:function(t){var e=Ot(t).find("[data-type=items-container]").html(),n=Ot(t).find("[data-type=show_more_click]"),r=Ot(t).find("[data-type=range-price-inner]").html(),i=Ot(t).find("[data-type=range-length-inner]").html(),c=Ot(t).find("[data-type=range-width-inner]").html(),d=Ot(t).find("[data-type=range-height-inner]").html(),l=Ot(t).find("[data-type=range-type-inner]").html();if(o.find("[data-type=items-container]").empty(),o.find("[data-type=items-container]").append(e),o.find("data-cur-filter-code").val(a),n&&(o.find("[data-type=show_more_click_block]").empty(),o.find("[data-type=show_more_click_block]").append(n)),"price"!=a){var s=o.find("[data-type=range-price-block]");0==s.attr("data-filter-active")&&(s.empty(),s.append(r))}if("length"!=a){var u=o.find("[data-type=range-length-block]");0==u.attr("data-filter-active")&&(u.empty(),u.append(i))}if("width"!=a){var f=o.find("[data-type=range-width-block]");0==f.attr("data-filter-active")&&(f.empty(),f.append(c))}if("height"!=a){var p=o.find("[data-type=range-height-block]");0==p.attr("data-filter-active")&&(p.empty(),p.append(d))}if("type"!=a){var m=o.find("[data-type=range-type-block]");0==m.attr("data-filter-active")&&(m.empty(),m.append(l))}j()},error:function(t){console.debug(t)}})})),Ot(document).on("click","[data-type=modal-options]",(function(t){t.preventDefault();var e=Ot(this).attr("data-name-opt"),a=Ot(this).parents("body");console.log("Дополнительная опция - "+e),Ot.ajax({method:"POST",url:"/local/templates/main/include/ajax/modals/options.php",data:{name:e},success:function(t){console.log(t),a.find("[data-type=modal-options-container]").empty(),a.find("[data-type=modal-options-container]").append(Ot(t)),qt()},error:function(t){console.debug(t)}})})),Ot("[data-type*=form-order]").on("submit",(function(t){t.preventDefault();var e=Ot(this),a=e.attr("data-url"),o=e.parents("[data-type=form-containers]"),n={},r=e.data("ym-id");r&&ym("54015997","reachGoal",r),n.UF_ID_PROD=o.attr("data-id-prod"),n.UF_PROD_NAME=o.attr("data-name-prod"),n.UF_MATERIALS=o.find("[data-ttl-order=materials]").text(),n.UF_COATING=o.find("[data-ttl-order=coating]").text(),n.UF_PROD_NAME=o.attr("data-name-prod"),n.UF_SIZES=o.find("[data-sub-ttl=sizes]").text(),o.find("[data-color-order=data-color-order]").text()&&(n.UF_COLOR_MOD=o.find("[data-color-order=data-color-order]").text()+", цена - "+o.find("[data-price-order=color]").text()+" руб."),o.find("[data-ttl-order=drainage]").text()&&(n.UF_DRAINAGE=o.find("[data-ttl-order=drainage]").text()+", цена - "+o.find("[data-price-order=drainage]").text()+" руб."),o.find("[data-dop-id]").each((function(t,e){Ot(e).text()&&(n.UF_DOP_OPTIONS?n.UF_DOP_OPTIONS=n.UF_DOP_OPTIONS+", "+Ot(e).find("div.txt").text()+" - цена: "+Ot(e).find("[data-price]").text()+" руб.":n.UF_DOP_OPTIONS=Ot(e).find("[data-title]").text()+" - цена: "+Ot(e).find("[data-price]").text()+" руб.")})),o.find("[data-price-order=dop-options]").text()&&(n.UF_DOP_OPTIONS=n.UF_DOP_OPTIONS+". Цена - "+o.find("[data-price-order=dop-options]").text()+" руб."),o.find("[data-ttl-order=dop1]").text()&&(n.UF_FORNT_PANELS=o.find("[data-ttl-order=dop1]").text()+", цена - "+o.find("[data-price-order=dop1]").text()+" руб."),o.find("[data-ttl-order=dop2]").text()&&(n.UF_SIDE_PANELS=o.find("[data-ttl-order=dop2]").text()+", цена - "+o.find("[data-price-order=dop2]").text()+" руб."),n.UF_PRICE_FULL=o.find("[data-total-price=data-total-price]").text()+" руб.",e.find("[data-type=get-field]").each((function(t,e){var a=Ot(e),o=a.val();n[a.data("field")]=o})),console.log(n),Ot.ajax({type:"POST",url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,data:n,success:function(t){t.success?_t(e,t.orderId):console.log(t.message)},error:function(t){console.debug(t)}})})),qt(),Ot(document).on("click","[data-type=filter-click]",(function(){var t=Ot(this);kt(t,t.data("val"))})),Ot(document).on("change","[data-type=filter]",(function(){var t=Ot(this);kt(t,t.val())})),Ot(document).on("click","[data-type=filter-apply]",(function(){Ot(this).parents("[data-container=filters]").find("[data-container=filter]").each((function(t,e){var a=Ot(e);window.filters.getData[a.data("get-type")](a)})),Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){xt(Ot("[data-fetch-response]"),t)}})})),Ot("[data-range-event]").each((function(t,e){var a=Ot(e);e.noUiSlider.on("change",(function(t){window.filters.data.filters[a.data("field")]=t,Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){xt(Ot("[data-fetch-response]"),t)}})}))})),Ot(document).on("click","[data-type=filter-reset]",(function(){window.filters.data.filters={},Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){xt(Ot("[data-fetch-response]"),t)}})})),Ot(document).on("click","[data-type=filter-remove]",(function(){var t=Ot(this).data("field");delete window.filters.data.filters[t],Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){xt(Ot("[data-fetch-response]"),t)}})})),Ot(document).on("change","[data-type=sort]",(function(){var t=Ot(this),e=t.data("field");window.sort.data.sort[e]=t.val(),window.sort.data.filters=window.filters.data.filters,Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.sort.data,success:function(t){xt(Ot("[data-fetch-response]"),t)}})})),Ot(document).on("click","[data-type=change-section]",(function(t){t.preventDefault();var e=Ot(this),a={id:e.data("section-id"),code:e.data("section-code")},o=e.data("container-selector"),n=Ot("[data-".concat(o,"]"));e.css("pointer-events","none"),Ot.ajax({type:"get",url:window.location.pathname,dataType:"html",data:a,success:function(t){n.replaceWith(Ot(t)),e.css("pointer-events","auto")}})})),_t(),gt(),Ot(document).ready((function(){var t=Ot("[data-cookie]");0!==t.length&&"true"!==localStorage.getItem("not_show_cookie_window")&&t.removeClass("hidden")})),Ot(document).on("click","[data-cookie-btn]",(function(){localStorage.setItem("not_show_cookie_window","true")}))})),window.filters={data:{filters:{},ajax:"filters"},getData:{one:function(t,e){return e?(window.filters.data.filters[t]=e,!0):(delete window.filters.data.filters[t],!1)},many:function(t,e){var a;return window.filters.data.filters[t]||(window.filters.data.filters[t]={}),window.filters.data.filters[t][e]?(a=!1,delete window.filters.data.filters[t][e],Object.keys(window.filters.data.filters[t]).length||delete window.filters.data.filters[t]):(a=!0,window.filters.data.filters[t][e]=e),a},range:function(t){window.filters.data.filters[t.data("field")]=t.find("[data-range-range]")[0].noUiSlider.get()},checkbox:function(t){var e={};t.find(":checkbox:checked").each((function(t,a){console.log(Ot(a));var o=Ot(a).val();e[o]=o})),window.filters.data.filters[t.data("field")]=e}},fetchCallable:{initMap:function(){console.log(document.getElementById("map")),X(document.getElementById("map").YMap,!0)}}},window.addEventListener("cloneFilter",(function(t){var e=Ot(t.detail.elem).find("[data-type=filter-remove]");try{e.find("[data-type=filter-remove]").attr("data-field",JSON.parse(t.detail.field)[t.detail.index])}catch(t){e.find("[data-type=filter-remove]").attr("data-field",t.detail.field)}})),window.sort={data:{filters:{},sort:{},ajax:"sort"}},Ot(document).on("change","[data-type=filter-change-test]",(function(){var t=Ot(this),e=t.parents("[data-container=filter]"),a=e.data("filter-field");window.filters.getData[e.data("get-type")](a,t.val()),Ot.ajax({type:"GET",url:window.location.href,dataType:"html",data:window.filters.data,success:function(t){xt(Ot("[data-fetch-response]"),t)}})})),window.addEventListener("paginationTrigger",(function(){var t="[data-type=items-container]",e=Ot(t),a="[data-type=hidden-pagen]",o=Ot(a),n=o.data("url");o.length&&(o.remove(),Ot.ajax({url:n,method:"get",dataType:"html",data:{ajax:"pagen"},success:function(o){e.append(Ot(o).filter(t).children());var n=Ot(o).filter(a);n&&e.after(n)}}))}));var Lt=a(5638),Rt=document.querySelector("[data-type=site-templ-path]");window.CONFIG=window.location.hostname&&"cloudmill.github.io"!==window.location.hostname?{path:Rt?Rt.value:"/local/templates/main",debug:!0}:{path:"./",debug:!0},document.addEventListener("DOMContentLoaded",(function(){var t;!function(){var t=document.querySelector("#main-slider");if(t){var e=t.querySelectorAll(".swiper-slide").length,a=t.querySelector("[data-pagination]"),n=a.querySelector("[data-pagination-current]"),r=a.querySelector("[data-pagination-total]"),i="first move";new o.ZP("#main-slider",{modules:[o.W_,o.tl],loop:!0,speed:1e3,autoplay:{delay:8e3,disableOnInteraction:!1},navigation:{prevEl:"#main-slider-prev",nextEl:"#main-slider-next"},on:{init:function(){r.textContent=e<10?"0".concat(e):e,this.$el.find(".swiper-slide-active").addClass("text-out")},slideChange:function(){if("first move"!==i){var t=this.realIndex+1;a.classList.add("text-out"),setTimeout((function(){n.textContent=t<10?"0".concat(t):t,a.classList.remove("text-out")}),800)}else i="inited"}}})}var c=new o.ZP("#product-slider",{modules:[o.tl],loop:d("#product-slider","product-slider"),speed:800,pagination:{el:"#product-slider-pagination",clickable:!0}});document.querySelector("#product-slider")&&(document.querySelectorAll("#product-slider-prev").forEach((function(t){t.addEventListener("click",(function(){c.slidePrev()}))})),document.querySelectorAll("#product-slider-next").forEach((function(t){t.addEventListener("click",(function(){c.slideNext()}))})));var l=new o.ZP("#product-slider2",{modules:[o.tl],loop:d("#product-slider2","product-slider2"),speed:800,pagination:{el:"#product-slider-pagination2",clickable:!0}});document.querySelector("#product-slider2")&&(document.querySelectorAll("#product-slider-prev2").forEach((function(t){t.addEventListener("click",(function(){l.slidePrev()}))})),document.querySelectorAll("#product-slider-next2").forEach((function(t){t.addEventListener("click",(function(){l.slideNext()}))}))),new o.ZP("#mirror-slider",{modules:[o.tl,o.W_],loop:d("#mirror-slider","mirror-slider"),speed:800,pagination:{el:"[data-mirror-pagination]",type:"fraction",renderFraction:function(t,e){return'<span class="'+t+'"></span><span class="'+e+'"></span>'},formatFractionCurrent:function(t){return t<10?"0"+t:t},formatFractionTotal:function(t){return t<10?"0"+t:t}},navigation:{prevEl:"#mirror-slider-prev",nextEl:"#mirror-slider-next"}}),new o.ZP("#small-product-slider",{modules:[o.W_],loop:!0,speed:800,navigation:{prevEl:"#small-product-slider-prev",nextEl:"#small-product-slider-next"}});var s=new o.ZP("#about-slider",{modules:[o.W_],loop:d("#about-slider","about-slider"),speed:800,pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector("#about-slider")&&(document.querySelectorAll("#about-slider-prev").forEach((function(t){t.addEventListener("click",(function(){s.slidePrev()}))})),document.querySelectorAll("#about-slider-next").forEach((function(t){t.addEventListener("click",(function(){s.slideNext()}))})));var u=new o.ZP("#cards-slider",{modules:[o.W_],loop:d("#cards-slider","cards"),breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2.1,spaceBetween:10},1024:{slidesPerView:2.5,spaceBetween:12}}});document.querySelector("#cards-slider")&&(document.querySelectorAll("#cards-slider-prev").forEach((function(t){t.addEventListener("click",(function(){u.slidePrev()}))})),document.querySelectorAll("#cards-slider-next").forEach((function(t){t.addEventListener("click",(function(){u.slideNext()}))})));var f=new o.ZP("#cards-slider2",{modules:[o.W_],loop:d("#cards-slider2","cards2"),breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2.1,spaceBetween:10},1024:{slidesPerView:2.5,spaceBetween:12}}});document.querySelector("#cards-slider2")&&(document.querySelectorAll("#cards-slider-prev2").forEach((function(t){t.addEventListener("click",(function(){f.slidePrev()}))})),document.querySelectorAll("#cards-slider-next2").forEach((function(t){t.addEventListener("click",(function(){f.slideNext()}))}))),new o.ZP("#colors-slider",{modules:[o.W_],slidesPerView:"auto",breakpoints:{1024:{spaceBetween:4}}})}(),g("form").parsley(),Parsley.addMessages("ru",{defaultMessage:"Некорректное значение",type:{email:"Введите адрес электронной почты",url:"Введите URL адрес",number:"Введите число",integer:"Введите целое число",digits:"Введите только цифры",alphanum:"Введите буквенно-цифровое значение"},notblank:"Это поле должно быть заполнено",required:"Заполните поле",pattern:"Это значение некорректно",min:"Это значение должно быть не менее чем %s",max:"Это значение должно быть не более чем %s",range:"Это значение должно быть от %s до %s",minlength:"Это значение должно содержать не менее %s символов",maxlength:"Это значение должно содержать не более %s символов",length:"Это значение должно содержать от %s до %s символов",mincheck:"Выберите не менее %s значений",maxcheck:"Выберите не более %s значений",check:"Выберите от %s до %s значений",equalto:"Это значение должно совпадать"}),Parsley.addMessages("en",{defaultMessage:"This value seems to be invalid",type:{email:"This value should be a valid email",url:"This value should be a valid url",number:"This value should be a valid number",integer:"This value should be a valid integer",digits:"This value should be digits",alphanum:"This value should be alphanumeric"},notblank:"This value should not be blank",required:"Fill the field",pattern:"This value seems to be invalid",min:"This value should be greater than or equal to %s",max:"This value should be lower than or equal to %s",range:"This value should be between %s and %s",minlength:"This value is too short. It should have %s characters or more",maxlength:"This value is too long. It should have %s characters or fewer",length:"This value length is invalid. It should be between %s and %s characters long",mincheck:"You must select at least %s choices",maxcheck:"You must select %s choices or fewer",check:"You must select between %s and %s choices",equalto:"This value should be the same",euvatin:"It's not a valid VAT Identification Number"}),window.location.pathname.includes("/en/")?Parsley.setLocale("en"):Parsley.setLocale("ru"),Parsley.addValidator("telLength",{requirementType:"number",validateString:function(t,e){return t.replace(/\D/g,"").length===e},messages:{ru:"Телефон введён не полностью"}}),document.querySelectorAll("[data-parsley-validate]").forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault();var a=w(w({},h),{},{beforeClose:function(){t.reset(),t.querySelectorAll("[data-input]").forEach((function(t){t.classList.remove("form-input--active")}))}});g.fancybox.defaults=w(w({},g.fancybox.defaults),a),g.fancybox.open(g("[data-fancy-modal=response]"))}))})),Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1}).mask("[data-phone-input]"),window.Parsley.addValidator("string",{requirementType:"string",validateString:function(t){return!/[^a-zа-яё\s]/i.test(t)},messages:{ru:"Спецсимволы и цифры запрещены"}}),(t=document.querySelectorAll("[data-popular-tabs]")).length&&t.forEach((function(t){t.addEventListener("click",(function(){t.classList.toggle("active")}))})),S("data-tab"),S("data-tab2"),S("data-tab3"),(0,_.ZP)("[data-meta-tooltip]",{content:'<div class="tooltip-small-text">*Является продуктом компании Meta, признанной экстремистской организацией, деятельность которой запрещена на территории РФ</div>',maxWidth:280,placement:"right",allowHTML:!0,trigger:O()}),l(),R(),j(),document.querySelector("[data-catalog-page]")&&(null!==window.sessionStorage.getItem("catalogLastPosition")&&window.scrollTo(0,Number(window.sessionStorage.getItem("catalogLastPosition"))),window.addEventListener("beforeunload",(function(){window.sessionStorage.setItem("catalogLastPosition","".concat(window.pageYOffset))})));var e=document.querySelector("[data-old-modal]"),a=document.querySelector("[data-old-modal-close]");e&&a.addEventListener("click",(function(){e.remove()})),Lt("[data-sidebar-toggle]").on("click",(function(){Lt("[data-sidebar-drop]").toggleClass("show"),Lt("[data-sidebar-toggle]").toggleClass("active")}));var n=document.querySelectorAll("[data-color-tab]");n.length>0&&n.forEach((function(t){t.addEventListener("click",(function(t){if(t.target.closest("[data-default-color]"))t.target.closest("[data-color-content]").querySelector('[data-opts-set="colors1"]').style.display="none";else if(t.target.closest("[data-color-tab]")){t.target.closest("[data-color-content]").querySelector('[data-opts-set="colors1"]').style.display=""}}))}));var r=document.querySelectorAll('[data-tab-panel="options"]');r.length&&r.forEach((function(t){t.addEventListener("click",(function(){setTimeout((function(){var e=t.querySelector("[data-show-inputs]"),a=t.querySelector("[data-options-inputs]");e.classList.contains("active")?a.style.display="":a.style.display="none"}))}))}))})),window.addEventListener("load",(function(){!function(){if(E("[data-anchor-links]").length){var t=function(){r.length=0,E("[data-section]").each((function(){r.push({top:E(this).offset().top,a:c.filter('[data-scroll="#'+E(this).attr("id")+'"]')})})),r=r.reverse()},e=function(){for(var t=E(window).scrollTop(),e=0;e<r.length;e++)if(r[e].top-a<t+a){i!==e&&(i=e,n.removeClass("active"),r[e].a.addClass("active"));break}r[r.length-1].top-a>t+a&&(n.removeClass("active"),r[r.length-1].a.addClass("active"))},a=E(".header").height()+10,o=60,n=E("[data-page-link]"),r=[],i=null,c=n;t(),E(window).one("resize",(function e(){setTimeout((function(){t(),E(window).one("resize",e)}),1e3/o)})),e(),E(window).one("scroll",(function t(){setTimeout((function(){e(),E(window).one("scroll",t)}),1e3/o)})),E("[data-scroll]").on("click",(function(t){t.preventDefault();var e=E(this).data("scroll"),o=E(e).offset().top;E("html, body").animate({scrollTop:o-a},700)}))}}(),function(){var t=document.querySelector("[data-product-title]"),e=document.querySelector("[data-back-button-offset]");if(t&&e&&i.matches){var a=t.getBoundingClientRect().top+t.clientHeight+16;e.style.paddingTop="".concat(a,"px")}}();var t=document.querySelectorAll(".js-badger-accordion");Array.from(t).forEach((function(t){new s.Z(t)}));var e=document.querySelector("[data-about-video]");e&&(e.play(),e.setAttribute("autoplay",""))})),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-catalog-title]");if(t){var e=t.offsetWidth,a=t.querySelectorAll(".word-span"),o=window.getComputedStyle(t,null).getPropertyValue("font-size"),n=parseFloat(o);a.forEach((function(a){if(a.offsetWidth>e)for(;a.offsetWidth>e;)n-=2,t.style.fontSize=n+"px"}))}})),document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector("[data-desktop-img]")){var t=function(){i.matches?document.querySelectorAll("[data-desktop-img]").forEach((function(t){var e=t.getAttribute("data-desktop-img");t.src=e})):document.querySelectorAll("[data-mobile-img]").forEach((function(t){var e=t.getAttribute("data-mobile-img");t.src=e}))};t(),window.addEventListener("resize",(function(){t()}))}})),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-cookie]");t&&t.querySelectorAll("[data-cookie-btn]").forEach((function(e){e.onclick=function(){t.classList.add("hide")}}))}))},9135:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-filter-selected]");if(t){var e={},a=document.querySelector("[data-filter-price]"),o=document.querySelectorAll("[data-catalog-accordion]");o.forEach((function(t){t.onclick=function(){var e=document.querySelector("[data-catalog-accordion].active");e&&e.classList.remove("active"),t.classList.toggle("active")}})),window.addEventListener("click",(function(n){var r=n.target;if(r.closest("[data-filter-accept]")){var i=r.closest("[data-filter-property]"),c=i.getAttribute("data-filter-property"),d=i.querySelectorAll("[data-filter-range]"),l=[];if(d.length)d.forEach((function(t){var e=t.getAttribute("data-filter-range").split(" "),a=t.noUiSlider.get();l.push("".concat(e[0]," ").concat(a.join(" - ")," ").concat(e[1]))}));else i.querySelectorAll("[data-filters-check]").forEach((function(t){t.checked&&l.push(t.getAttribute("data-filters-check"))}));e[c]=l;var s=a.noUiSlider.get();e.price=["".concat(s.join(" - ")," ₽")],console.log(e),function(e){var a=t.querySelector("[data-filter-template]"),o=t.querySelector("[data-filter-list]");o.innerHTML="";var n=0,r=function(t){e[t].forEach((function(e){var r=a.content.firstElementChild.cloneNode(!0),i=r.querySelector("[data-prop-text]");window.dispatchEvent(new CustomEvent("cloneFilter",{detail:{field:t,elem:r,index:n}})),i.textContent=e,o.append(r),n++}))};for(var i in e)r(i);t.classList.remove("hidden")}(e),r.closest("[data-catalog-accordion]").classList.remove("active")}if(r.closest("[data-prop-delete]")){var u=r.closest("[data-prop]"),f=u.querySelector("[data-prop-text]"),p=document.querySelector('[data-filters-check="'.concat(f.textContent,'"]'));p&&(p.checked=!1,p.dispatchEvent(new Event("change"))),u.remove()}if(r.closest("[data-filter-reset]")){var m=t.querySelector("[data-filter-list]");document.querySelectorAll("[data-filters-check]").forEach((function(t){t.checked&&(t.checked=!1)})),m.innerHTML="",e={},t.classList.add("hidden")}r.closest("[data-catalog-accordion]")||o.forEach((function(t){return t.classList.remove("active")}))}))}}))},1044:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-category]");t.length&&t.forEach((function(t){t.onclick=function(){this.classList.toggle("active")}}))}))},3053:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("[data-input]");t.length&&t.forEach((function(t){t.oninput=function(){this.value?this.classList.add("form-input--active"):this.classList.remove("form-input--active")}}))}))},2972:()=>{document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-listing-section]");t&&window.addEventListener("scroll",(function(){window.scrollY+window.innerHeight>=t.offsetHeight+t.offsetTop-200&&window.dispatchEvent(new CustomEvent("paginationTrigger"))}))}))}},a={};function o(t){var n=a[t];if(void 0!==n)return n.exports;var r=a[t]={exports:{}};return e[t].call(r.exports,r,r.exports,o),r.exports}o.m=e,t=[],o.O=(e,a,n,r)=>{if(!a){var i=1/0;for(s=0;s<t.length;s++){for(var[a,n,r]=t[s],c=!0,d=0;d<a.length;d++)(!1&r||i>=r)&&Object.keys(o.O).every((t=>o.O[t](a[d])))?a.splice(d--,1):(c=!1,r<i&&(i=r));if(c){t.splice(s--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[a,n,r]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={143:0};o.O.j=e=>0===t[e];var e=(e,a)=>{var n,r,[i,c,d]=a,l=0;if(i.some((e=>0!==t[e]))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(d)var s=d(o)}for(e&&e(a);l<i.length;l++)r=i[l],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(s)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var n=o.O(void 0,[394],(()=>o(7798)));n=o.O(n)})();